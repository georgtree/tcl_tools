<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>Collection of Tcl tools</title>
<link rel='stylesheet' type='text/css' href='assets/ruff-min.css' />
<script type='text/javascript' src='assets/ruff-min.js'></script>
</head>
<body>
<div class='ruff-layout'>
<header class='ruff-layout-header ruff-hd'>
<a style='text-decoration:none;' href='index.html'>Collection of Tcl tools (v0.1)</a>


            <div id="ruffButtonBar">
            <button id="ruffNavMove" onclick="ruffMoveNavPane()"></button>
            <button id="ruffToggleTheme" onclick="ruffNextTheme()"></button>
            </div>
        </header><main class='ruff-layout-main ruff-bd'><h1 class='ruff'><a name='::gnuplotutil'></a>::gnuplotutil<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<h2 class='ruff'><a name='::gnuplotutil-Commands'></a>Commands<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffproc'><a name='::gnuplotutil::initArgStr'>initArgStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initArgStr</span> <span class='ruff_arg'>optDict optName varName value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>optName</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
<tr><td><code>value</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initArgStr' href="javascript:toggleSource('gnuplotutil_initArgStr')">Show source</a></p>
<div id='gnuplotutil_initArgStr' class='ruff_dyn_src'><pre>proc ::gnuplotutil::initArgStr {optDict optName varName value} {

    if {[dexist $optDict $optName]} {
        uplevel set $varName $value
    } else {
        uplevel set $varName {&quot;&quot;}
    }
    return
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::initTerminalStr'>initTerminalStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initTerminalStr</span> <span class='ruff_arg'>optDict varName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initTerminalStr' href="javascript:toggleSource('gnuplotutil_initTerminalStr')">Show source</a></p>
<div id='gnuplotutil_initTerminalStr' class='ruff_dyn_src'><pre>proc ::gnuplotutil::initTerminalStr {optDict varName} {

    if {[dexist $optDict terminal]} {
        uplevel set $varName [dget $optDict terminal]
    } else {
        global tcl_platform
        if {[string match -nocase *linux* $tcl_platform(os)]} {
            uplevel set $varName x11
        } elseif {[string match -nocase &quot;*windows nt*&quot; $tcl_platform(os)]} {
            uplevel set $varName windows
        } else {
            uplevel set $varName qt
        }
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::multiplotXNYN'>multiplotXNYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>multiplotXNYN</span> <span class='ruff_arg'>layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list? -columns plotList1 ?plotList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>layout</code></td><td>List of layout configurations values, for example, {2 2}</td></tr>
<tr><td><code>-background</code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code>-darkmode</code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code>-nodelete</code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code>-optcmd</code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code>-plots</code></td><td>Provides the list of individual plots, the number of plots is not restricted and must be provided at the end of command after all switches, the inputs syntax is the same as in <a href="index-gnuplotutil.html#::gnuplotutil::plotXNYNMp" title="plotXNYNMp" class='ruff_cmd'>plotXNYNMp</a></td></tr>
<tr><td><code>-size</code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code>-terminal</code></td><td>Provides terminal, default 'x11' on linux and 'windows' on windows.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>
Example:
set x1 [list 1 2 3 4 5 6]
set y1 [list 1 4 9 16 25 36]
set x2 [list 6 5 4 3 2 1]
set y2 [list 36 25 16 9 4 1]
set x3 [list 7 8 9 10]
set y3 [list 49 64 81 100]
set plot1 [list -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list name1 name2 name3]
-columns $x1 $y1 $x2 $y2 $x3 $y3]
set plot2 [list -ylabel &quot;y label&quot; -grid -names [list name1 name2] -columns $x1 $y1 $x2 $y2 ]
set plot3 [list -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list name3] -columns $x3 $y3 ]
set plot4 [list -grid -names [list name2] -columns $x2 $y2 ]
gnuplotutil::multiplotXNYN {2 2} -plots $plot1 $plot2 $plot3 $plot4
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_multiplotXNYN' href="javascript:toggleSource('gnuplotutil_multiplotXNYN')">Show source</a></p>
<div id='gnuplotutil_multiplotXNYN' class='ruff_dyn_src'><pre>proc ::gnuplotutil::multiplotXNYN {layout args} {

    # Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.
    #  layout - list of layout configurations values, for example, {2 2}
    #  -nodelete - disables deleting of temporary file after end of plotting
    #  -background - enables running gnuplot in background, requires -nodelete switch
    #  -optcmd - provides optional string that may contain additional commands to gnuplot
    #  -terminal - provides terminal, default 'x11' on linux and 'windows' on windows
    #  -size - provides size of the window, must be list with two elements: width and height in pixels
    #  -darkmode - enables dark mode for graph
    #  -plots - provides the list of individual plots, the number of plots is not restricted and must
    #    be provided at the end of command after all switches, the inputs syntax is the same as in
    #    [::gnuplotutil::plotXNYNMp]
    # Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot
    # Synopsis: layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list?
    #   -columns plotList1 ?plotList2 ...?
    # ```
    # Example:
    # set x1 [list 1 2 3 4 5 6]
    # set y1 [list 1 4 9 16 25 36]
    # set x2 [list 6 5 4 3 2 1]
    # set y2 [list 36 25 16 9 4 1]
    # set x3 [list 7 8 9 10]
    # set y3 [list 49 64 81 100]
    # set plot1 [list -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list name1 name2 name3]
    # -columns $x1 $y1 $x2 $y2 $x3 $y3]
    # set plot2 [list -ylabel &quot;y label&quot; -grid -names [list name1 name2] -columns $x1 $y1 $x2 $y2 ]
    # set plot3 [list -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list name3] -columns $x3 $y3 ]
    # set plot4 [list -grid -names [list name2] -columns $x2 $y2 ]
    # gnuplotutil::multiplotXNYN {2 2} -plots $plot1 $plot2 $plot3 $plot4
    # ```
    set arguments [argparse -inline {
        -nodelete
        {-background -require {nodelete}}
        -optcmd=
        -terminal=
        {-size= -default {800 600}}
        -darkmode
        {-plots -catchall}
    }]
    initArgStr $arguments optcmd optcmdStr {[dget $arguments optcmd]}
    if {[llength $layout]&gt;2} {
        return -code error &quot;Length of layout arguments is more than 2&quot;
    } else {
        set layoutStr &quot;set multiplot layout [@ $layout 0],[@ $layout 1]&quot;
    }
    initTerminalStr $arguments terminalStr
    if {[dexist $arguments darkmode]} {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced background rgb 'black'&quot;
        append darkmodeStr &quot;\n&quot; $::gnuplotutil::darkmodeStyle
    } else {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced&quot;
    }
    foreach plot [dget $arguments plots] {
        set plotResults [gnuplotutil::plotXNYNMp {*}$plot]
        lappend cmdStrings [dget $plotResults cmdString]
        lappend fileNames [dget $plotResults file]
    }
    set commandList [list $optcmdStr $darkmodeStr $layoutStr [join $cmdStrings \n] &quot;unset multiplot&quot; &quot;pause mouse close&quot;]
    set commandStr [join [lmap elem $commandList {= {$elem==&quot;&quot; ? [continue] : $elem}}] &quot;\n&quot;]
    if {[dexist $arguments background]} {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot; &amp; } errorStr]
    } else {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot;} errorStr]
    }
    if {![dexist $arguments nodelete]} {
        foreach fileName $fileNames {
            file delete $fileName
        }
    }
    if {$status&gt;0} {
        return $errorStr
    } else {
        return $commandStr
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotHist'>plotHist</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D histograms in Gnuplot with the common x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotHist</span> <span class='ruff_arg'>x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>x</code></td><td>List of strings that contains x-point for 2D histogram.</td></tr>
<tr><td><code>-background</code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code>-border</code></td><td>Provides border of columns with particular style, -fill argument is required.</td></tr>
<tr><td><code>-boxwidth</code></td><td>Provides width of columns, must be in range (0,1]</td></tr>
<tr><td><code>-columns</code></td><td>Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code>-darkmode</code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code>-density</code></td><td>Provides density of solid filling, -fill argument is required.</td></tr>
<tr><td><code>-fill</code></td><td>Provides fill of columns, must be empty or solid.</td></tr>
<tr><td><code>-gap</code></td><td>Provides gap between columns in clustered style, -style argument is required.</td></tr>
<tr><td><code>-grid</code></td><td>Enables grid of histogram.</td></tr>
<tr><td><code>-names</code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to number of y data colums.</td></tr>
<tr><td><code>-nodelete</code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code>-optcmd</code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code>-path</code></td><td>Provides location of temporary file, default is current location.</td></tr>
<tr><td><code>-size</code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code>-style</code></td><td>Provides style of diagram, must be clustered, rowstacked or columnstacked.</td></tr>
<tr><td><code>-terminal</code></td><td>Provides terminal, default 'x11' on linux and 'windows' on windows.</td></tr>
<tr><td><code>-transparent</code></td><td>Enables transparency to filling of columns, -fill argument is required.</td></tr>
<tr><td><code>-xlabel</code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-ylabel</code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>
Example:
set x1 [list 0 1 2 3 4 5 6]
set y1 [list 0 1 4 9 16 25 36]
set y2 [list 0 1 8 27 64 125 216]
gnuplotutil::plotHist $x1 -style clustered -fill solid -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list y1 y2]
-columns $y1 $y2]
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotHist' href="javascript:toggleSource('gnuplotutil_plotHist')">Show source</a></p>
<div id='gnuplotutil_plotHist' class='ruff_dyn_src'><pre>proc ::gnuplotutil::plotHist {x args} {

    # Plots 2D histograms in Gnuplot with the common x-values.
    #  x - List of strings that contains x-point for 2D histogram
    #  -nodelete - disables deleting of temporary file after end of plotting
    #  -xlabel - provides x-axis label to display, string must be provided after it
    #  -ylabel - provides y-axis label to display, string must be provided after it
    #  -style - provides style of diagram, must be clustered, rowstacked or columnstacked
    #  -gap - provides gap between columns in clustered style, -style argument is required
    #  -boxwidth - provides width of columns, must be in range (0,1]
    #  -fill - provides fill of columns, must be empty or solid
    #  -grid - enables grid of histogram
    #  -background - enables running gnuplot in background, requires -nodelete switch
    #  -terminal - provides terminal, default 'x11' on linux and 'windows' on windows
    #  -size - provides size of the window, must be list with two elements: width and height in pixels
    #  -path - provides location of temporary file, default is current location
    #  -darkmode - enables dark mode for graph
    #  -transparent - enables transparency to filling of columns, -fill argument is required
    #  -density - provides density of solid filling, -fill argument is required
    #  -border - provides border of columns with particular style, -fill argument is required
    #  -optcmd - provides optional string that may contain additional commands to gnuplot
    #  -names - enables setting the column names of provided data, value must be provided as list
    #    in the same order as data columns provided, must have the length equal to number of y data colums
    #  -columns - provides the y data to plot, the number of columns is not restricted and must be
    #    provided at the end of command after all switches
    # Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot
    # Synopsis: x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value?
    #   ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode?
    #   ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?
    # ```
    # Example:
    # set x1 [list 0 1 2 3 4 5 6]
    # set y1 [list 0 1 4 9 16 25 36]
    # set y2 [list 0 1 8 27 64 125 216]
    # gnuplotutil::plotHist $x1 -style clustered -fill solid -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list y1 y2]
    # -columns $y1 $y2]
    # ```
    set arguments [argparse -inline {
        -nodelete
        -xlabel=
        -ylabel=
        {-style= -enum {clustered rowstacked columnstacked} -required}
        {-gap= -require {style}}
        -optcmd=
        -grid
        {-background -require {nodelete}}
        -terminal=
        {-size= -default {800 600}}
        {-path= -default &quot;.&quot;}
        -darkmode
        -names=
        -boxwidth=
        {-fill= -enum {empty solid}}
        {-density= -require {fill}}
        {-transparent -require {fill}}
        {-border= -require {fill}}
        {-columns -catchall}
    }]
    initArgStr $arguments xlog xscaleStr {&quot;set logscale x&quot;}
    initArgStr $arguments ylog yscaleStr {&quot;set logscale y&quot;}
    initArgStr $arguments grid gridStr {&quot;set grid&quot;}
    initArgStr $arguments xlabel xlabelStr {&quot;set xlabel '[dget $arguments xlabel]'&quot;}
    initArgStr $arguments ylabel ylabelStr {&quot;set ylabel '[dget $arguments ylabel]'&quot;}
    initArgStr $arguments names columnNames {[dget $arguments names]}
    initArgStr $arguments optcmd optcmdStr {[dget $arguments optcmd]}
    initArgStr $arguments boxwidth boxwidthStr {&quot;set boxwidth '[dget $arguments boxwidth]'&quot;}
    initTerminalStr $arguments terminalStr
    if {[dexist $arguments darkmode]} {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced background rgb 'black'&quot;
        append darkmodeStr &quot;\n&quot; $::gnuplotutil::darkmodeStyle
    } else {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced&quot;
    }
    if {[dexist $arguments fill]} {
        if {[dexist $arguments transparent]} {
            set fillStr &quot;set style fill transparent [dget $arguments fill]&quot;
        } else {
            set fillStr &quot;set style fill [dget $arguments fill]&quot;
        }
        if {[dexist $arguments density]} {
            append fillStr &quot; [dget $arguments density]&quot;
        }
        if {[dexist $arguments border]} {
            append fillStr &quot; border lt [dget $arguments border]&quot;
        }
    } else {
        set fillStr {}
    }
    if {[dexist $arguments style]} {
        if {([dexist $arguments gap]) &amp;&amp; ([dget $arguments style] in {clustered})} {
            set styleStr &quot;set style histogram [dget $arguments style] gap [dget $arguments gap]&quot;
        } else {
            set styleStr &quot;set style histogram [dget $arguments style]&quot;
        }
    } else {
        set styleStr {}
    }
    set yColumnCount 0
    foreach val [dget $arguments columns] {
        if {[llength $val] != [llength $x]} {
            return -code error &quot;Number of points of y-axis data (column $yColumnCount) doesn't match the number of points of x-axis data&quot;
            incr yColumnCount
        }
    }
    # fill output structure with values
    set numCol [llength [dget $arguments columns]]
    if {([dexist $arguments names])} {
        if {[llength $columnNames]!=[= {$numCol}]} {
            return -code error &quot;Column names count is not the same as count of data columns&quot;
            set autoTitleStr &quot;&quot;
        } else {
            lappend outList &quot;{ } $columnNames&quot;
            set autoTitleStr &quot;set key autotitle columnheader&quot;
        }
    }
    set numRow [llength $x]
    for {set i 0} {$i&lt;$numRow} {incr i} {
        set row [@ $x $i]
        foreach val [dget $arguments columns] {
            lappend row [@ $val $i]
        }
        lappend outList $row
    }
    # save data to temporary file
    set counter 0
    while {true} {
        set filePath [file join [dget $arguments path] gnuplotTemp${counter}.csv]
        if {[file exists $filePath]} {
           incr counter
        } else {
            set resFile [open $filePath w+]
            break
        }
    }
    puts $resFile [::csv::joinlist $outList &quot; &quot;]
    close $resFile
    # create command strings for gnuplot
    set commandStr &quot;plot 'gnuplotTemp${counter}.csv' using 2:xtic(1)&quot;
    for {set i 1} {$i&lt;$numCol} {incr i} {
        set commandStr  &quot;${commandStr}, '' using [= {$i+2}]&quot;
    }
    set commandList [list &quot;set mouse&quot; $darkmodeStr &quot;set style data histogram&quot; $styleStr $fillStr $optcmdStr $gridStr $autoTitleStr $xlabelStr $ylabelStr $boxwidthStr $commandStr &quot;pause mouse close&quot;]
    set commandStr [join [lmap elem $commandList {= {$elem==&quot;&quot; ? [continue] : $elem}}] &quot;\n&quot;]
    if {[dexist $arguments background]} {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot; &amp; } errorStr]
    } else {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot;} errorStr]
    }
    if {![dexist $arguments nodelete]} {
        file delete $filePath
    }
    if {$status&gt;0} {
        return $errorStr
    } else {
        return $commandStr
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXNYN'>plotXNYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with individual x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXNYN</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>-background</code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code>-columns</code></td><td>Provides the x and y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code>-darkmode</code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code>-grid</code></td><td>Enables display of grid.</td></tr>
<tr><td><code>-names</code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code>-nodelete</code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code>-optcmd</code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code>-path</code></td><td>Provides location of temporary file, default is the current location.</td></tr>
<tr><td><code>-size</code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code>-terminal</code></td><td>Selects terminal, default 'x11' on Linux and 'windows' on Windows.</td></tr>
<tr><td><code>-xlabel</code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-xlog</code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code>-ylabel</code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-ylog</code></td><td>Enables log scale of y axis.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>
Example:
set x1 [list 0 1 2 3 4 5 6]
set y1 [list 0 1 4 9 16 25 36]
set x2 [list 0 1 2 3 4 5 6 7]
set y2 [list 0 1 8 27 64 125 216 350]
gnuplotutil::plotXNYN -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -darkmode -grid -names [list y1 y2]
-columns $x1 $y1 $x2 $y2
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXNYN' href="javascript:toggleSource('gnuplotutil_plotXNYN')">Show source</a></p>
<div id='gnuplotutil_plotXNYN' class='ruff_dyn_src'><pre>proc ::gnuplotutil::plotXNYN {args} {

    # Plots 2D graphs in Gnuplot with individual x-values.
    #  -xlog - enables log scale of x axis
    #  -ylog - enables log scale of y axis
    #  -background - enables running gnuplot in background, requires -nodelete switch
    #  -nodelete - disables deleting of temporary file after end of plotting
    #  -xlabel - provides x-axis label to display, string must be provided after it
    #  -ylabel - provides y-axis label to display, string must be provided after it
    #  -optcmd - provides optional string that may contain additional commands to gnuplot
    #  -terminal - selects terminal, default 'x11' on Linux and 'windows' on Windows
    #  -size - provides size of the window, must be list with two elements: width and height in pixels
    #  -grid - enables display of grid
    #  -darkmode - enables dark mode for graph
    #  -path - provides location of temporary file, default is the current location
    #  -names - enables setting the column names of provided data, value must be provided as list
    #    in the same order as data columns provided, must have the length 2*(number of x-y data pairs)
    #  -columns -  provides the x and y data to plot, the number of columns is not restricted and must
    #    be provided at the end of command after all switches
    # Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot
    # Synopsis: ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string?
    #   ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 yList1
    #   ?xList2 yList2 ...?
    # ```
    # Example:
    # set x1 [list 0 1 2 3 4 5 6]
    # set y1 [list 0 1 4 9 16 25 36]
    # set x2 [list 0 1 2 3 4 5 6 7]
    # set y2 [list 0 1 8 27 64 125 216 350]
    # gnuplotutil::plotXNYN -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -darkmode -grid -names [list y1 y2]
    # -columns $x1 $y1 $x2 $y2
    # ```
    set arguments [argparse -inline {
        -xlog
        -ylog
        {-background -require {nodelete}}
        -nodelete
        -xlabel=
        -ylabel=
        -optcmd=
        -terminal=
        {-size= -default {800 600}}
        -grid
        -darkmode
        {-path= -default &quot;&quot;}
        -names=
        {-columns -catchall}
    }]
    initArgStr $arguments xlog xscaleStr {&quot;set logscale x&quot;}
    initArgStr $arguments ylog yscaleStr {&quot;set logscale y&quot;}
    initArgStr $arguments grid gridStr {&quot;set grid&quot;}
    initArgStr $arguments xlabel xlabelStr {&quot;set xlabel '[dget $arguments xlabel]'&quot;}
    initArgStr $arguments ylabel ylabelStr {&quot;set ylabel '[dget $arguments ylabel]'&quot;}
    initArgStr $arguments names columnNames {[dget $arguments names]}
    initArgStr $arguments optcmd optcmdStr {[dget $arguments optcmd]}
    initTerminalStr $arguments terminalStr
    if {[dexist $arguments darkmode]} {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced background rgb 'black'&quot;
        append darkmodeStr &quot;\n&quot; $::gnuplotutil::darkmodeStyle
    } else {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced&quot;
    }
    set columnsNum [llength [dget $arguments columns]]
    if {$columnsNum % 2 != 0} {
        return -code error &quot;Number of data columns $columnsNum is odd&quot;
    }
    set dataNum [= {int($columnsNum/2)}]
    set yColumnCount 0
    for {set i 0} {$i&lt;$dataNum} {incr i} {
        set xLen [llength [@ [dget $arguments columns] [= {int($i*2)}]]]
        set yLen [llength [@ [dget $arguments columns] [= {int($i*2+1)}]]]
        lappend xLengths $xLen
        if {$xLen != $yLen} {
            return -code error &quot;Number of points of y-axis data (column [= {1+$yColumnCount}]) doesn't match the number of pointsof x-axis data (column $yColumnCount)&quot;
        }
        incr yColumnCount
    }
    # fill output structure with values
    if {([dexist $arguments names])} {
            set headerString {}
        if {[llength $columnNames]!=[= {$dataNum}]} {
            return -code error &quot;Column names count is not the same as count of data columns&quot;
            set autoTitleStr &quot;&quot;
        } else {
            for {set i 0} {$i&lt;=$dataNum} {incr i} {
                set headerString &quot;${headerString} { } [@ $columnNames $i]&quot;
            }
            lappend outList $headerString
            set autoTitleStr &quot;set key autotitle columnheader&quot;
        }
    }
    set numRow [tcl::mathfunc::max {*}$xLengths]
    for {set i 0} {$i&lt;$numRow} {incr i} {
        set row {}
        for {set j 0} {$j&lt;$dataNum} {incr j} {
            set columns [dget $arguments columns]
            set xVal [@ [@ $columns [= {int($j*2)}]] $i]
            set yVal [@ [@ $columns [= {int($j*2+1)}]] $i]
            if {$xVal=={}} {
                lappend row { } { }
            } else {
                lappend row $xVal $yVal
            }
        }
        lappend outList $row
    }
    # save data to temporary file
    set counter 0
    while {true} {
        set filePath [file join [dget $arguments path] gnuplotTemp${counter}.csv]
        if {[file exists $filePath]} {
           incr counter
        } else {
            set resFile [open $filePath w+]
            break
        }
    }
    puts $resFile [::csv::joinlist $outList &quot; &quot;]
    close $resFile
    # create command strings for gnuplot
    set commandStr &quot;plot '[file join [dget $arguments path] gnuplotTemp${counter}.csv]' using 1:2 with lines &quot;
    for {set i 1} {$i&lt;$dataNum} {incr i} {
        set commandStr  &quot;${commandStr}, '' using [= {$i*2+1}]:[= {$i*2+2}] with lines &quot;
    }
    set commandList [list &quot;set mouse&quot; $darkmodeStr $optcmdStr $autoTitleStr $xlabelStr $ylabelStr $xscaleStr $yscaleStr $gridStr $commandStr &quot;pause mouse close&quot;]
    set commandStr [join [lmap elem $commandList {= {$elem==&quot;&quot; ? [continue] : $elem}}] &quot;\n&quot;]
    if {[dexist $arguments background]} {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot; &amp; } errorStr]
    } else {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot;} errorStr]
    }
    if {![dexist $arguments nodelete]} {
        file delete $filePath
    }
    if {$status&gt;0} {
        return $errorStr
    } else {
        return $commandStr
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXNYNMp'>plotXNYNMp</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXNYNMp</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>-columns</code></td><td>Provides the x and y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code>-grid</code></td><td>Enables display of grid.</td></tr>
<tr><td><code>-names</code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code>-path</code></td><td>Provides location of temporary file, default is current location.</td></tr>
<tr><td><code>-xlabel</code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-xlog</code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code>-ylabel</code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-ylog</code></td><td>Enables log scale of y axis.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>list that contains command script and name of data file</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXNYNMp' href="javascript:toggleSource('gnuplotutil_plotXNYNMp')">Show source</a></p>
<div id='gnuplotutil_plotXNYNMp' class='ruff_dyn_src'><pre>proc ::gnuplotutil::plotXNYNMp {args} {

    # Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files
    #  for individual plots
    #  -xlog - enables log scale of x axis
    #  -ylog - enables log scale of y axis
    #  -xlabel - provides x-axis label to display, string must be provided after it
    #  -ylabel - provides y-axis label to display, string must be provided after it
    #  -grid - enables display of grid
    #  -path - provides location of temporary file, default is current location
    #  -names - enables setting the column names of provided data, value must be provided as list
    #    in the same order as data columns provided, must have the length 2*(number of x-y data pairs)
    #  -columns -  provides the x and y data to plot, the number of columns is not restricted and must
    #    be provided at the end of command after all switches
    # Returns: list that contains command script and name of data file
    # Synopsis: ?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list?
    #   -columns xList1 yList1 ?xList2 yList2 ...?
    set arguments [argparse -inline {
        -xlog
        -ylog
        -xlabel=
        -ylabel=
        -grid
        {-path= -default &quot;.&quot;}
        -names=
        {-columns -catchall}
    }]
    initArgStr $arguments xlog xscaleStr {&quot;set logscale x&quot;}
    initArgStr $arguments xlog xscaleStrUnset {&quot;unset logscale x&quot;}
    initArgStr $arguments ylog yscaleStr {&quot;set logscale y&quot;}
    initArgStr $arguments ylog yscaleStrUnset {&quot;unset logscale y&quot;}
    initArgStr $arguments grid gridStr {&quot;set grid&quot;}
    initArgStr $arguments grid gridStrUnset {&quot;unset grid&quot;}
    initArgStr $arguments names columnNames {[dget $arguments names]}
    initArgStr $arguments xlabel xlabelStr {&quot;set xlabel '[dget $arguments xlabel]'&quot;}
    initArgStr $arguments xlabel xlabelStrUnset {&quot;unset xlabel&quot;}
    initArgStr $arguments ylabel ylabelStr {&quot;set ylabel '[dget $arguments ylabel]'&quot;}
    initArgStr $arguments ylabel ylabelStrUnset {&quot;unset ylabel&quot;}
    set columnsNum [llength [dget $arguments columns]]
    if {$columnsNum % 2 != 0} {
        return -code error &quot;Number of data columns $columnsNum is odd&quot;
    }
    set dataNum [= {int($columnsNum/2)}]
    set yColumnCount 0
    for {set i 0} {$i&lt;$dataNum} {incr i} {
        set xLen [llength [@ [dget $arguments columns] [= {int($i*2)}]]]
        set yLen [llength [@ [dget $arguments columns] [= {int($i*2+1)}]]]
        lappend xLengths $xLen
        if {$xLen != $yLen} {
            return -code error &quot;Number of points of y-axis data (column [= {1+$yColumnCount}]) doesn't match the number of points of x-axis data (column $yColumnCount)&quot;
        }
        incr yColumnCount
    }
    # fill output structure with values
    if {([dexist $arguments names])} {
            set headerString {}
        if {[llength $columnNames]!=[= {$dataNum}]} {
            return -code error &quot;Column names count is not the same as count of data columns&quot;
            set autoTitleStr &quot;&quot;
        } else {
            for {set i 0} {$i&lt;=$dataNum} {incr i} {
                set headerString &quot;${headerString} { } [@ $columnNames $i]&quot;
            }
            lappend outList $headerString
            set autoTitleStr &quot;set key autotitle columnheader&quot;
        }
    }
    set numRow [tcl::mathfunc::max {*}$xLengths]
    for {set i 0} {$i&lt;$numRow} {incr i} {
        set row {}
        for {set j 0} {$j&lt;$dataNum} {incr j} {
            set columns [dget $arguments columns]
            set xVal [@ [@ $columns [= {int($j*2)}]] $i]
            set yVal [@ [@ $columns [= {int($j*2+1)}]] $i]
            if {$xVal=={}} {
                lappend row { } { }
            } else {
                lappend row $xVal $yVal
            }
        }
        lappend outList $row
    }
    # save data to temporary file
    set counter 0
    while {true} {
        set filePath [file join [dget $arguments path] gnuplotTemp${counter}.csv]
        if {[file exists $filePath]} {
           incr counter
        } else {
            set resFile [open $filePath w+]
            break
        }
    }
    puts $resFile [::csv::joinlist $outList &quot; &quot;]
    close $resFile
    # create command strings for gnuplot
    set commandStr &quot;plot 'gnuplotTemp${counter}.csv' using 1:2 with lines &quot;
    for {set i 1} {$i&lt;$dataNum} {incr i} {
        set commandStr  &quot;${commandStr}, '' using [= {$i*2+1}]:[= {$i*2+2}] with lines &quot;
    }
    set commandList [list $autoTitleStr $xlabelStr $ylabelStr $xscaleStr $yscaleStr $gridStr $commandStr $xlabelStrUnset $ylabelStrUnset $xscaleStrUnset $yscaleStrUnset $gridStrUnset]
    set commandStr [join [lmap elem $commandList {= {$elem==&quot;&quot; ? [continue] : $elem}}] &quot;\n&quot;]
    return [dict create cmdString $commandStr file $filePath]
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXYN'>plotXYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with the common x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXYN</span> <span class='ruff_arg'>x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns yList1 ?yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>x</code></td><td>List of x-point for 2D graph.</td></tr>
<tr><td><code>-background</code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code>-columns</code></td><td>Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code>-darkmode</code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code>-grid</code></td><td>Enables display of grid.</td></tr>
<tr><td><code>-names</code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums.</td></tr>
<tr><td><code>-nodelete</code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code>-optcmd</code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code>-path</code></td><td>Provides location of temporary file, default is the current location.</td></tr>
<tr><td><code>-size</code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code>-terminal</code></td><td>Selects terminal, default 'x11' on Linux and 'windows' on Windows.</td></tr>
<tr><td><code>-xlabel</code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-xlog</code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code>-ylabel</code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>-ylog</code></td><td>Enables log scale of y axis.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>
Example:
set x [list 0 1 2 3 4 5 6]
set y1 [list 0 1 4 9 16 25 36]
set y2 [list 0 1 8 27 64 125 216]
gnuplotutil::plotXYN $x -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list  y1 y2]
-columns $y1 $y2
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXYN' href="javascript:toggleSource('gnuplotutil_plotXYN')">Show source</a></p>
<div id='gnuplotutil_plotXYN' class='ruff_dyn_src'><pre>proc ::gnuplotutil::plotXYN {x args} {

    # Plots 2D graphs in Gnuplot with the common x-values.
    #  x - list of x-point for 2D graph
    #  -xlog - enables log scale of x axis
    #  -ylog - enables log scale of y axis
    #  -background - enables running gnuplot in background, requires -nodelete switch
    #  -nodelete - disables deleting of temporary file after end of plotting
    #  -xlabel - provides x-axis label to display, string must be provided after it
    #  -ylabel - provides y-axis label to display, string must be provided after it
    #  -optcmd - provides optional string that may contain additional commands to gnuplot
    #  -terminal - selects terminal, default 'x11' on Linux and 'windows' on Windows
    #  -grid - enables display of grid
    #  -darkmode - enables dark mode for graph
    #  -size - provides size of the window, must be list with two elements: width and height in pixels
    #  -path - provides location of temporary file, default is the current location
    #  -names - enables setting the column names of provided data, value must be provided as list
    #    in the same order as data columns provided, must have the length equal to the number of y data colums
    #  -columns - provides the y data to plot, the number of columns is not restricted and must be provided at the end
    #    of command after all switches
    # Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot
    # Synopsis: x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string?
    #   ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns yList1 ?yList2 ...?
    # ```
    # Example:
    # set x [list 0 1 2 3 4 5 6]
    # set y1 [list 0 1 4 9 16 25 36]
    # set y2 [list 0 1 8 27 64 125 216]
    # gnuplotutil::plotXYN $x -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list  y1 y2]
    # -columns $y1 $y2
    # ```
    set arguments [argparse -inline {
        -xlog
        -ylog
        {-background -require {nodelete}}
        -nodelete
        -xlabel=
        -ylabel=
        -optcmd=
        -terminal=
        -grid
        -darkmode
        {-path= -default &quot;.&quot;}
        {-size= -default {800 600}}
        -names=
        {-columns -catchall}
    }]
    initArgStr $arguments xlog xscaleStr {&quot;set logscale x&quot;}
    initArgStr $arguments ylog yscaleStr {&quot;set logscale y&quot;}
    initArgStr $arguments grid gridStr {&quot;set grid&quot;}
    initArgStr $arguments xlabel xlabelStr {&quot;set xlabel '[dget $arguments xlabel]'&quot;}
    initArgStr $arguments ylabel ylabelStr {&quot;set ylabel '[dget $arguments ylabel]'&quot;}
    initArgStr $arguments names columnNames {[dget $arguments names]}
    initArgStr $arguments optcmd optcmdStr {[dget $arguments optcmd]}
    initTerminalStr $arguments terminalStr
    if {[dexist $arguments darkmode]} {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced background rgb 'black'&quot;
        append darkmodeStr &quot;\n&quot; $::gnuplotutil::darkmodeStyle
    } else {
        set darkmodeStr &quot;set term $terminalStr size [join [dget $arguments size] ,] noenhanced&quot;
    }
    set yColumnCount 0
    foreach val [dget $arguments columns] {
        if {[llength $val]!=[llength $x]} {
            return -code error &quot;Number of points of y-axis data (column $yColumnCount) doesn't match the number of points of x-axis data&quot;
            incr yColumnCount
        }
    }
    # fill output structure with values
    set numCol [llength [dget $arguments columns]]
    if {([dexist $arguments names])} {
        if {[llength $columnNames]!=[= {$numCol}]} {
            return -code error &quot;Column names count is not the same as count of data columns&quot;
            set autoTitleStr &quot;&quot;
        } else {
            lappend outList &quot;{ } $columnNames&quot;
            set autoTitleStr &quot;set key autotitle columnheader&quot;
        }
    }
    set numRow [llength $x]
    for {set i 0} {$i&lt;$numRow} {incr i} {
        set row [@ $x $i]
        foreach val [dget $arguments columns] {
            lappend row [@ $val $i]
        }
        lappend outList $row
    }
    # save data to temporary file
    set counter 0
    while {true} {
        set filePath [file join [dget $arguments path] gnuplotTemp${counter}.csv]
        if {[file exists $filePath]} {
           incr counter
        } else {
            set resFile [open $filePath w+]
            break
        }
    }
    puts $resFile [::csv::joinlist $outList &quot; &quot;]
    close $resFile
    # create command strings for gnuplot
    set commandStr &quot;plot '[file join [dget $arguments path] gnuplotTemp${counter}.csv]' using 1:2 with lines &quot;
    for {set i 1} {$i&lt;$numCol} {incr i} {
        set commandStr  &quot;${commandStr}, '' using 1:[= {$i+2}] with lines &quot;
    }
    set commandList [list &quot;set mouse&quot; $darkmodeStr $optcmdStr $autoTitleStr $xlabelStr $ylabelStr $xscaleStr $yscaleStr $gridStr $commandStr &quot;pause mouse close&quot;]
    set commandStr [join [lmap elem $commandList {= {$elem==&quot;&quot; ? [continue] : $elem}}] &quot;\n&quot;]
    if {[dexist $arguments background]} {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot; &amp; } errorStr]
    } else {
        set status [catch {exec gnuplot &lt;&lt; &quot;\n$commandStr\n&quot;} errorStr]
    }
    if {![dexist $arguments nodelete]} {
        file delete $filePath
    }
    if {$status&gt;0} {
        return -code error $errorStr
    } else {
        return $commandStr
    }
}</pre></div>
</div></main><nav class='ruff-nav'><ul ><li class='ruff-toc1'><a style='padding-top:2px;' href='index.html'>Start page</a></li>
<li class='ruff-toc1'><a href='index-docindex.html' accesskey='i'>Index</a></li>
<hr>
<li class='ruff-toc1'><a class='ruff-highlight' href='index-gnuplotutil.html'>gnuplotutil</a></li>
<li class='ruff-toc1'><a href='index-mathutil.html'>mathutil</a></li>
<li class='ruff-toc1'><a href='index-rfutil.html'>rfutil</a></li>
<li class='ruff-toc1'><a href='index-touchstoneutil.html'>touchstoneutil</a></li>
<hr><li class='ruff-toc2'><a href='#::gnuplotutil-Commands'>Commands</a></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initArgStr'>initArgStr</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>initArgStr</span> <span class='ruff_arg'>optDict optName varName value</span></pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initTerminalStr'>initTerminalStr</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>initTerminalStr</span> <span class='ruff_arg'>optDict varName</span></pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::multiplotXNYN'>multiplotXNYN</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>multiplotXNYN</span> <span class='ruff_arg'>layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list? -columns plotList1 ?plotList2 ...?</span></pre>Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotHist'>plotHist</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>plotHist</span> <span class='ruff_arg'>x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?</span></pre>Plots 2D histograms in Gnuplot with the common x-values.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXNYN'>plotXNYN</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>plotXNYN</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></pre>Plots 2D graphs in Gnuplot with individual x-values.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXNYNMp'>plotXNYNMp</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>plotXNYNMp</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></pre>Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXYN'>plotXYN</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>plotXYN</span> <span class='ruff_arg'>x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns yList1 ?yList2 ...?</span></pre>Plots 2D graphs in Gnuplot with the common x-values.
</span></li></ul></nav><footer class='ruff-layout-footer ruff-ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div><div>&copy; George Yashin</div></footer>
</div></body></html>
