<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>Collection of Tcl tools</title>
<link rel='stylesheet' type='text/css' href='assets/ruff-min.css' />
<script type='text/javascript' src='assets/ruff-min.js'></script>
</head>
<body>
<div class='ruff-layout'>
<header class='ruff-layout-header ruff-hd'>
<a style='text-decoration:none;' href='index.html'>Collection of Tcl tools (v0.1)</a>


            <div id="ruffButtonBar">
            <button id="ruffNavMove" onclick="ruffMoveNavPane()"></button>
            <button id="ruffToggleTheme" onclick="ruffNextTheme()"></button>
            </div>
        </header><main class='ruff-layout-main ruff-bd'><h1 class='ruff'><a name='::gnuplotutil'></a>::gnuplotutil<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<h2 class='ruff'><a name='::gnuplotutil-Commands'></a>Commands<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffproc'><a name='::gnuplotutil::initArgStr'>initArgStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initArgStr</span> <span class='ruff_arg'>optDict optName varName value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>optName</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
<tr><td><code>value</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initArgStr' href="javascript:toggleSource('gnuplotutil_initArgStr')">Show source</a></p>
<div id='gnuplotutil_initArgStr' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::initArgStr {optDict optName varName value} {

    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$optDict</font> <font color=#f1b479>$optName</font>]} {
        <b><font color=#ffa500>uplevel</font></b> {<b><font color=#ffa500>*</font></b>}[<b><font color=#ffa500>list</font></b> set <font color=#f1b479>$varName</font> <font color=#f1b479>$value</font>]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>uplevel</font></b> {<b><font color=#ffa500>*</font></b>}[<b><font color=#ffa500>list</font></b> set <font color=#f1b479>$varName</font> {<font color=#90ee90>&quot;&quot;</font>}]
    }
    <b><font color=#fe6efe>return</font></b>
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::initRangeStr'>initRangeStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initRangeStr</span> <span class='ruff_arg'>optDict optName varName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>optName</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initRangeStr' href="javascript:toggleSource('gnuplotutil_initRangeStr')">Show source</a></p>
<div id='gnuplotutil_initRangeStr' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::initRangeStr {optDict optName varName} {

    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$optDict</font> <font color=#f1b479>$optName</font>]} {
        <b><font color=#ffa500>lassign</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$optDict</font> <font color=#f1b479>$optName</font>] min max
        <b><font color=#ffa500>set</font></b> str <font color=#90ee90>&quot;set <font color=#f1b479>$</font>optName \[<font color=#f1b479>${</font>min<font color=#f1b479>}</font>:<font color=#f1b479>${</font>max<font color=#f1b479>}</font>\]&quot;</font>
        <b><font color=#ffa500>uplevel</font></b> {<b><font color=#ffa500>*</font></b>}[<b><font color=#ffa500>list</font></b> set <font color=#f1b479>$varName</font> [<b><font color=#ffa500>list</font></b> <font color=#f1b479>$str</font>]]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>uplevel</font></b> {<b><font color=#ffa500>*</font></b>}[<b><font color=#ffa500>list</font></b> set <font color=#f1b479>$varName</font> {<font color=#90ee90>&quot;&quot;</font>}]
    }
    <b><font color=#fe6efe>return</font></b>
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::initTerminalStr'>initTerminalStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initTerminalStr</span> <span class='ruff_arg'>optDict varName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initTerminalStr' href="javascript:toggleSource('gnuplotutil_initTerminalStr')">Show source</a></p>
<div id='gnuplotutil_initTerminalStr' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::initTerminalStr {optDict varName} {

    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$optDict</font> terminal]} {
        <b><font color=#ffa500>uplevel</font></b> set <font color=#f1b479>$varName</font> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$optDict</font> terminal]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>global</font></b> tcl_platform
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>string</font></b> match <font color=#b9b96e>-nocase</font> *linux* <font color=#f1b479>$tcl_platform(os)</font>]} {
            <b><font color=#ffa500>uplevel</font></b> set <font color=#f1b479>$varName</font> x11
        } <b><font color=#ffa500>elseif</font></b> {[<b><font color=#ffa500>string</font></b> match <font color=#b9b96e>-nocase</font> <font color=#90ee90>&quot;*windows nt*&quot;</font> <font color=#f1b479>$tcl_platform(os)</font>]} {
            <b><font color=#ffa500>uplevel</font></b> set <font color=#f1b479>$varName</font> windows
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>uplevel</font></b> set <font color=#f1b479>$varName</font> qt
        }
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::multiplotXNYN'>multiplotXNYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>multiplotXNYN</span> <span class='ruff_arg'>layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list? -columns plotList1 ?plotList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#b9b96e>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete or -inline switch.</td></tr>
<tr><td><code><font color=#b9b96e>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#b9b96e>-inline</font></code></td><td>Provides data directly in command string, without creating temporary file.</td></tr>
<tr><td><code><font color=#b9b96e>-layout</font></code></td><td>List of layout configurations values, for example, {2 2}</td></tr>
<tr><td><code><font color=#b9b96e>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#b9b96e>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#b9b96e>-plots</font></code></td><td>Provides the list of individual plots, the number of plots is not restricted and must be provided at the end of command after all switches, the inputs syntax is the same as in <a href="index-gnuplotutil.html#::gnuplotutil::plotXNYNMp" title="plotXNYNMp" class='ruff_cmd'>plotXNYNMp</a></td></tr>
<tr><td><code><font color=#b9b96e>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#b9b96e>-terminal</font></code></td><td>Provides terminal, default 'x11' on linux and 'windows' on windows.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#ffa500>set</font></b> x1 [<b><font color=#ffa500>list</font></b> 1 2 3 4 5 6]
<b><font color=#ffa500>set</font></b> y1 [<b><font color=#ffa500>list</font></b> 1 4 9 16 25 36]
<b><font color=#ffa500>set</font></b> x2 [<b><font color=#ffa500>list</font></b> 6 5 4 3 2 1]
<b><font color=#ffa500>set</font></b> y2 [<b><font color=#ffa500>list</font></b> 36 25 16 9 4 1]
<b><font color=#ffa500>set</font></b> x3 [<b><font color=#ffa500>list</font></b> 7 8 9 10]
<b><font color=#ffa500>set</font></b> y3 [<b><font color=#ffa500>list</font></b> 49 64 81 100]
<b><font color=#ffa500>set</font></b> plot1 [<b><font color=#ffa500>list</font></b> <font color=#b9b96e>-xlog</font> <font color=#b9b96e>-ylog</font> <font color=#b9b96e>-xlabel</font> <font color=#90ee90>&quot;x label&quot;</font> <font color=#b9b96e>-ylabel</font> <font color=#90ee90>&quot;y label&quot;</font> <font color=#b9b96e>-grid</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b> name1 name2 name3]
<font color=#b9b96e>-columns</font> <font color=#f1b479>$x1</font> <font color=#f1b479>$y1</font> <font color=#f1b479>$x2</font> <font color=#f1b479>$y2</font> <font color=#f1b479>$x3</font> <font color=#f1b479>$y3</font>]
<b><font color=#ffa500>set</font></b> plot2 [<b><font color=#ffa500>list</font></b> <font color=#b9b96e>-ylabel</font> <font color=#90ee90>&quot;y label&quot;</font> <font color=#b9b96e>-grid</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b> name1 name2] <font color=#b9b96e>-columns</font> <font color=#f1b479>$x1</font> <font color=#f1b479>$y1</font> <font color=#f1b479>$x2</font> <font color=#f1b479>$y2</font> ]
<b><font color=#ffa500>set</font></b> plot3 [<b><font color=#ffa500>list</font></b> <font color=#b9b96e>-xlabel</font> <font color=#90ee90>&quot;x label&quot;</font> <font color=#b9b96e>-ylabel</font> <font color=#90ee90>&quot;y label&quot;</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b> name3] <font color=#b9b96e>-columns</font> <font color=#f1b479>$x3</font> <font color=#f1b479>$y3</font> ]
<b><font color=#ffa500>set</font></b> plot4 [<b><font color=#ffa500>list</font></b> <font color=#b9b96e>-grid</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b> name2] <font color=#b9b96e>-columns</font> <font color=#f1b479>$x2</font> <font color=#f1b479>$y2</font> ]
gnuplotutil::multiplotXNYN {2 2} <font color=#b9b96e>-plots</font> <font color=#f1b479>$plot1</font> <font color=#f1b479>$plot2</font> <font color=#f1b479>$plot3</font> <font color=#f1b479>$plot4</font>
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_multiplotXNYN' href="javascript:toggleSource('gnuplotutil_multiplotXNYN')">Show source</a></p>
<div id='gnuplotutil_multiplotXNYN' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::multiplotXNYN {args} {

    <i><font color=#76a396># Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.</font></i>
    <i><font color=#76a396>#  -layout - list of layout configurations values, for example, {2 2}</font></i>
    <i><font color=#76a396>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#76a396>#  -background - enables running gnuplot in background, requires -nodelete or -inline switch</font></i>
    <i><font color=#76a396>#  -inline - provides data directly in command string, without creating temporary file</font></i>
    <i><font color=#76a396>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#76a396>#  -terminal - provides terminal, default 'x11' on linux and 'windows' on windows</font></i>
    <i><font color=#76a396>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#76a396>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#76a396>#  -plots - provides the list of individual plots, the number of plots is not restricted and must</font></i>
    <i><font color=#76a396>#    be provided at the end of command after all switches, the inputs syntax is the same as in</font></i>
    <i><font color=#76a396>#    [::gnuplotutil::plotXNYNMp]</font></i>
    <i><font color=#76a396># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#76a396># Synopsis: layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list?</font></i>
    <i><font color=#76a396>#   -columns plotList1 ?plotList2 ...?</font></i>
    <i><font color=#76a396># ```</font></i>
    <i><font color=#76a396># Example:</font></i>
    <i><font color=#76a396># set x1 [list 1 2 3 4 5 6]</font></i>
    <i><font color=#76a396># set y1 [list 1 4 9 16 25 36]</font></i>
    <i><font color=#76a396># set x2 [list 6 5 4 3 2 1]</font></i>
    <i><font color=#76a396># set y2 [list 36 25 16 9 4 1]</font></i>
    <i><font color=#76a396># set x3 [list 7 8 9 10]</font></i>
    <i><font color=#76a396># set y3 [list 49 64 81 100]</font></i>
    <i><font color=#76a396># set plot1 [list -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list name1 name2 name3]</font></i>
    <i><font color=#76a396># -columns $x1 $y1 $x2 $y2 $x3 $y3]</font></i>
    <i><font color=#76a396># set plot2 [list -ylabel &quot;y label&quot; -grid -names [list name1 name2] -columns $x1 $y1 $x2 $y2 ]</font></i>
    <i><font color=#76a396># set plot3 [list -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list name3] -columns $x3 $y3 ]</font></i>
    <i><font color=#76a396># set plot4 [list -grid -names [list name2] -columns $x2 $y2 ]</font></i>
    <i><font color=#76a396># gnuplotutil::multiplotXNYN {2 2} -plots $plot1 $plot2 $plot3 $plot4</font></i>
    <i><font color=#76a396># ```</font></i>
    <b><font color=#ffa500>set</font></b> arguments [argparse <font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display} {
        {<font color=#b9b96e>-layout</font>= <font color=#b9b96e>-help</font> {List of layout configurations values, for example, {2 2}}}
        {<font color=#b9b96e>-nodelete</font> <font color=#b9b96e>-forbid</font> inline <font color=#b9b96e>-help</font> {Disables deleting of temporary file after end of plotting}}
        {<font color=#b9b96e>-background</font> <font color=#b9b96e>-help</font> {Enables running gnuplot in background}}
        {<font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Provides data directly in command string, without creating temporary file}}
        {<font color=#b9b96e>-optcmd</font>= <font color=#b9b96e>-help</font> {Provides optional string that may contain additional commands to gnuplot}}
        {<font color=#b9b96e>-terminal</font>= <font color=#b9b96e>-help</font> {Selects terminal, default 'x11' on Linux and 'windows' on Windows}}
        {<font color=#b9b96e>-size</font>= <font color=#b9b96e>-default</font> {800 600} <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides size of the window, must be list with two elements: width and height in pixels}}
        {<font color=#b9b96e>-darkmode</font> <font color=#b9b96e>-help</font> {Enables dark mode for graph}}
        {<font color=#b9b96e>-plots</font> <font color=#b9b96e>-catchall</font> <font color=#b9b96e>-help</font> {Provides the list of individual plots, the number of plots is not restricted and must be provided at the end of command after all switches, the inputs syntax is the same as in [::gnuplotutil::plotXNYNMp]}}
    }]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        AliasesKeysCheck <font color=#f1b479>$arguments</font> {nodelete inline}
    }
    initArgStr <font color=#f1b479>$arguments</font> optcmd optcmdStr {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> optcmd]}
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dict</font></b> exists <font color=#f1b479>$arguments</font> layout]} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dict</font></b> get <font color=#f1b479>$arguments</font> layout]]&gt;2} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error {Length of layout arguments is more than 2}
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>set</font></b> layoutStr <font color=#90ee90>&quot;set multiplot layout <font color=#f1b479>[</font>@ <font color=#f1b479>[</font>dict get <font color=#f1b479>$</font>arguments layout<font color=#f1b479>]</font> 0<font color=#f1b479>]</font>,<font color=#f1b479>[</font>@ <font color=#f1b479>[</font>dict get <font color=#f1b479>$</font>arguments layout<font color=#f1b479>]</font> 1<font color=#f1b479>]</font>&quot;</font>
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> layoutStr {<b><font color=#ffa500>set</font></b> multiplot}
    }
    initTerminalStr <font color=#f1b479>$arguments</font> terminalStr
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> darkmode]} {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#ffa500>append</font></b> darkmodeStr <font color=#90ee90>&quot;\n&quot;</font> <font color=#f1b479>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced&quot;</font>
    }
    <b><font color=#ffa500>set</font></b> i 0
    <b><font color=#ffa500>foreach</font></b> plot [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> plots] {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
            <b><font color=#ffa500>set</font></b> plotResults [gnuplotutil::plotXNYNMp <font color=#b9b96e>-inline</font> {<b><font color=#ffa500>*</font></b>}<font color=#f1b479>$plot</font>]
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>set</font></b> plotResults [gnuplotutil::plotXNYNMp {<b><font color=#ffa500>*</font></b>}<font color=#f1b479>$plot</font>]
            <b><font color=#ffa500>lappend</font></b> fileNames [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$plotResults</font> file]
        }
        <b><font color=#ffa500>lappend</font></b> cmdStrings [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$plotResults</font> cmdString]
        <b><font color=#ffa500>incr</font></b> i
    }
    <b><font color=#ffa500>set</font></b> commandList [<b><font color=#ffa500>list</font></b> <font color=#f1b479>$optcmdStr</font> <font color=#f1b479>$darkmodeStr</font> <font color=#f1b479>$layoutStr</font> [<b><font color=#ffa500>join</font></b> <font color=#f1b479>$cmdStrings</font> \n] {<b><font color=#ffa500>unset</font></b> multiplot} {pause mouse close}]
    <b><font color=#ffa500>set</font></b> commandStr [<b><font color=#ffa500>join</font></b> [<b><font color=#ffa500>lmap</font></b> elem <font color=#f1b479>$commandList</font> {= {<font color=#f1b479>$elem</font> eq {} ? [<b><font color=#fe6efe>continue</font></b>] : <font color=#f1b479>$elem</font>}}] <font color=#90ee90>&quot;\n&quot;</font>]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#ffa500>if</font></b> {![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> nodelete] && ![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>foreach</font></b> fileName <font color=#f1b479>$fileNames</font> {
            <b><font color=#ffa500>file</font></b> delete <font color=#f1b479>$fileName</font>
        }
    }
    <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$status</font>&gt;0} {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$errorStr</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$commandStr</font>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotHist'>plotHist</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D histograms in Gnuplot with the common x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotHist</span> <span class='ruff_arg'>x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#b9b96e>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code><font color=#b9b96e>-border</font></code></td><td>Provides border of columns with particular style, -fill argument is required.</td></tr>
<tr><td><code><font color=#b9b96e>-boxwidth</font></code></td><td>Provides width of columns, must be in range (0,1]</td></tr>
<tr><td><code><font color=#b9b96e>-columns</font></code></td><td>Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#b9b96e>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#b9b96e>-density</font></code></td><td>Provides density of solid filling, -fill argument is required.</td></tr>
<tr><td><code><font color=#b9b96e>-fill</font></code></td><td>Provides fill of columns, must be empty or solid.</td></tr>
<tr><td><code><font color=#b9b96e>-gap</font></code></td><td>Provides gap between columns in clustered style, -style argument is required.</td></tr>
<tr><td><code><font color=#b9b96e>-grid</font></code></td><td>Enables grid of histogram.</td></tr>
<tr><td><code><font color=#b9b96e>-inline</font></code></td><td>Provides data directly in command string, without creating temporary file.</td></tr>
<tr><td><code><font color=#b9b96e>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to number of y data colums.</td></tr>
<tr><td><code><font color=#b9b96e>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#b9b96e>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#b9b96e>-output</font></code></td><td>Command redirects output to the specified file or device.</td></tr>
<tr><td><code><font color=#b9b96e>-path</font></code></td><td>Provides location of temporary file, default is current location.</td></tr>
<tr><td><code><font color=#b9b96e>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#b9b96e>-style</font></code></td><td>Provides style of diagram, must be clustered, rowstacked or columnstacked.</td></tr>
<tr><td><code><font color=#b9b96e>-terminal</font></code></td><td>Provides terminal, default 'x11' on linux and 'windows' on windows.</td></tr>
<tr><td><code><font color=#b9b96e>-transparent</font></code></td><td>Enables transparency to filling of columns, -fill argument is required.</td></tr>
<tr><td><code><font color=#b9b96e>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code>x</code></td><td>List that contains x-point for 2D histogram.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#ffa500>set</font></b> x1 [<b><font color=#ffa500>list</font></b> 0 1 2 3 4 5 6]
<b><font color=#ffa500>set</font></b> y1 [<b><font color=#ffa500>list</font></b> 0 1 4 9 16 25 36]
<b><font color=#ffa500>set</font></b> y2 [<b><font color=#ffa500>list</font></b> 0 1 8 27 64 125 216]
gnuplotutil::plotHist <font color=#f1b479>$x1</font> <font color=#b9b96e>-style</font> clustered <font color=#b9b96e>-fill</font> solid <font color=#b9b96e>-xlabel</font> <font color=#90ee90>&quot;x label&quot;</font> <font color=#b9b96e>-ylabel</font> <font color=#90ee90>&quot;y label&quot;</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b> y1 y2]
<font color=#b9b96e>-columns</font> <font color=#f1b479>$y1</font> <font color=#f1b479>$y2</font>]
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotHist' href="javascript:toggleSource('gnuplotutil_plotHist')">Show source</a></p>
<div id='gnuplotutil_plotHist' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::plotHist {args} {

    <i><font color=#76a396># Plots 2D histograms in Gnuplot with the common x-values.</font></i>
    <i><font color=#76a396>#  x - List that contains x-point for 2D histogram</font></i>
    <i><font color=#76a396>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#76a396>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -style - provides style of diagram, must be clustered, rowstacked or columnstacked</font></i>
    <i><font color=#76a396>#  -gap - provides gap between columns in clustered style, -style argument is required</font></i>
    <i><font color=#76a396>#  -boxwidth - provides width of columns, must be in range (0,1]</font></i>
    <i><font color=#76a396>#  -fill - provides fill of columns, must be empty or solid</font></i>
    <i><font color=#76a396>#  -grid - enables grid of histogram</font></i>
    <i><font color=#76a396>#  -background - enables running gnuplot in background, requires -nodelete switch</font></i>
    <i><font color=#76a396>#  -inline - provides data directly in command string, without creating temporary file</font></i>
    <i><font color=#76a396>#  -terminal - provides terminal, default 'x11' on linux and 'windows' on windows</font></i>
    <i><font color=#76a396>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#76a396>#  -path - provides location of temporary file, default is current location</font></i>
    <i><font color=#76a396>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#76a396>#  -output - command redirects output to the specified file or device</font></i>
    <i><font color=#76a396>#  -transparent - enables transparency to filling of columns, -fill argument is required</font></i>
    <i><font color=#76a396>#  -density - provides density of solid filling, -fill argument is required</font></i>
    <i><font color=#76a396>#  -border - provides border of columns with particular style, -fill argument is required</font></i>
    <i><font color=#76a396>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#76a396>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#76a396>#    in the same order as data columns provided, must have the length equal to number of y data colums</font></i>
    <i><font color=#76a396>#  -columns - provides the y data to plot, the number of columns is not restricted and must be</font></i>
    <i><font color=#76a396>#    provided at the end of command after all switches</font></i>
    <i><font color=#76a396># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#76a396># Synopsis: x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value?</font></i>
    <i><font color=#76a396>#   ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode?</font></i>
    <i><font color=#76a396>#   ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?</font></i>
    <i><font color=#76a396># ```</font></i>
    <i><font color=#76a396># Example:</font></i>
    <i><font color=#76a396># set x1 [list 0 1 2 3 4 5 6]</font></i>
    <i><font color=#76a396># set y1 [list 0 1 4 9 16 25 36]</font></i>
    <i><font color=#76a396># set y2 [list 0 1 8 27 64 125 216]</font></i>
    <i><font color=#76a396># gnuplotutil::plotHist $x1 -style clustered -fill solid -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list y1 y2]</font></i>
    <i><font color=#76a396># -columns $y1 $y2]</font></i>
    <i><font color=#76a396># ```</font></i>
    <b><font color=#ffa500>set</font></b> arguments [argparse <font color=#b9b96e>-inline</font> <font color=#b9b96e>-pfirst</font> <font color=#b9b96e>-help</font> {Plots 2D histograms in Gnuplot with the common x-values} {
        {x <font color=#b9b96e>-help</font> {List that contains x-point for 2D histogram}}
        {<font color=#b9b96e>-nodelete</font> <font color=#b9b96e>-forbid</font> inline <font color=#b9b96e>-help</font> {Disables deleting of temporary file after end of plotting}}
        {<font color=#b9b96e>-xlabel</font>= <font color=#b9b96e>-help</font> {Provides x-axis label to display}}
        {<font color=#b9b96e>-ylabel</font>= <font color=#b9b96e>-help</font> {Provides y-axis label to display}}
        {<font color=#b9b96e>-style</font>= <font color=#b9b96e>-enum</font> {clustered rowstacked columnstacked} <font color=#b9b96e>-required</font> <font color=#b9b96e>-help</font> {Provides style of diagram}}
        {<font color=#b9b96e>-gap</font>= <font color=#b9b96e>-require</font> style <font color=#b9b96e>-help</font> {Provides gap between columns in clustered style}}
        {<font color=#b9b96e>-optcmd</font>= <font color=#b9b96e>-help</font> {Provides optional string that may contain additional commands to gnuplot}}
        {<font color=#b9b96e>-grid</font> <font color=#b9b96e>-help</font> {Enables display of grid}}
        {<font color=#b9b96e>-background</font> <font color=#b9b96e>-help</font> {Enables running gnuplot in background}}
        {<font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Provides data directly in command string, without creating temporary file}}
        {<font color=#b9b96e>-terminal</font>= <font color=#b9b96e>-help</font> {Selects terminal, default 'x11' on Linux and 'windows' on Windows}}
        {<font color=#b9b96e>-size</font>= <font color=#b9b96e>-default</font> {800 600} <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides size of the window, must be list with two elements: width and height in pixels}}
        {<font color=#b9b96e>-path</font>= <font color=#b9b96e>-default</font> {} <font color=#b9b96e>-help</font> {Provides location of temporary file}}
        {<font color=#b9b96e>-darkmode</font> <font color=#b9b96e>-help</font> {Enables dark mode for graph}}
        {<font color=#b9b96e>-output</font>= <font color=#b9b96e>-help</font> {Command redirects output to the specified file or device}}
        {<font color=#b9b96e>-names</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums}}
        {<font color=#b9b96e>-boxwidth</font>= <font color=#b9b96e>-help</font> {Provides width of columns, must be in range (0,1]}}
        {<font color=#b9b96e>-fill</font>= <font color=#b9b96e>-enum</font> {empty solid} <font color=#b9b96e>-help</font> {Provides fill of columns}}
        {<font color=#b9b96e>-density</font>= <font color=#b9b96e>-require</font> fill <font color=#b9b96e>-help</font> {Provides density of solid filling}}
        {<font color=#b9b96e>-transparent</font> <font color=#b9b96e>-require</font> fill <font color=#b9b96e>-help</font> {Enables transparency to filling of columns}}
        {<font color=#b9b96e>-border</font>= <font color=#b9b96e>-require</font> fill <font color=#b9b96e>-help</font> {Provides border of columns with particular style}}
        {<font color=#b9b96e>-columns</font> <font color=#b9b96e>-catchall</font> <font color=#b9b96e>-help</font> {Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches}}
    }]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        AliasesKeysCheck <font color=#f1b479>$arguments</font> {nodelete inline}
    }
    initArgStr <font color=#f1b479>$arguments</font> xlog xscaleStr {{<b><font color=#ffa500>set</font></b> logscale x}}
    initArgStr <font color=#f1b479>$arguments</font> ylog yscaleStr {{<b><font color=#ffa500>set</font></b> logscale y}}
    initArgStr <font color=#f1b479>$arguments</font> grid gridStr {{<b><font color=#ffa500>set</font></b> grid}}
    initArgStr <font color=#f1b479>$arguments</font> output outputStr {<font color=#90ee90>&quot;set output '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments output<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> xlabel xlabelStr {<font color=#90ee90>&quot;set xlabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments xlabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> ylabel ylabelStr {<font color=#90ee90>&quot;set ylabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments ylabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> names columnNames {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> names]}
    initArgStr <font color=#f1b479>$arguments</font> optcmd optcmdStr {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> optcmd]}
    initArgStr <font color=#f1b479>$arguments</font> boxwidth boxwidthStr {<font color=#90ee90>&quot;set boxwidth '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments boxwidth<font color=#f1b479>]</font>'&quot;</font>}
    initTerminalStr <font color=#f1b479>$arguments</font> terminalStr
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> darkmode]} {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#ffa500>append</font></b> darkmodeStr <font color=#90ee90>&quot;\n&quot;</font> <font color=#f1b479>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced&quot;</font>
    }
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> fill]} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> transparent]} {
            <b><font color=#ffa500>set</font></b> fillStr <font color=#90ee90>&quot;set style fill transparent <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments fill<font color=#f1b479>]</font>&quot;</font>
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>set</font></b> fillStr <font color=#90ee90>&quot;set style fill <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments fill<font color=#f1b479>]</font>&quot;</font>
        }
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> density]} {
            <b><font color=#ffa500>append</font></b> fillStr <font color=#90ee90>&quot; <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments density<font color=#f1b479>]</font>&quot;</font>
        }
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> border]} {
            <b><font color=#ffa500>append</font></b> fillStr <font color=#90ee90>&quot; border lt <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments border<font color=#f1b479>]</font>&quot;</font>
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> fillStr {}
    }
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> style]} {
        <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> gap]) && ([<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> style] in {clustered})} {
            <b><font color=#ffa500>set</font></b> styleStr <font color=#90ee90>&quot;set style histogram <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments style<font color=#f1b479>]</font> gap <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments gap<font color=#f1b479>]</font>&quot;</font>
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>set</font></b> styleStr <font color=#90ee90>&quot;set style histogram <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments style<font color=#f1b479>]</font>&quot;</font>
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> styleStr {}
    }
    <b><font color=#ffa500>set</font></b> yColumnCount 0
    <b><font color=#ffa500>foreach</font></b> val [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$val</font>] != [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> x]]} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Number of points '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>val<font color=#f1b479>]</font>' of y-axis data (column <font color=#f1b479>$</font>yColumnCount) doesn't match the number of points '<font color=#f1b479>[</font>llength <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments x<font color=#f1b479>]]</font>' of x-axis data&quot;</font>
            <b><font color=#ffa500>incr</font></b> yColumnCount
        }
    }
    <i><font color=#76a396># fill output structure with values</font></i>
    <b><font color=#ffa500>set</font></b> numCol [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns]]
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> names])} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$columnNames</font>]!=[= {<font color=#f1b479>$numCol</font>}]} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Column names count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>columnNames<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>numCol' of data columns&quot;</font>
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>foreach</font></b> columnName <font color=#f1b479>$columnNames</font> {
                <b><font color=#ffa500>lappend</font></b> processedNames <font color=#90ee90>&quot;\&quot;<font color=#f1b479>$</font>columnName\&quot;&quot;</font>
            }
            <b><font color=#ffa500>lappend</font></b> outList <font color=#90ee90>&quot;<font color=#f1b479>{</font> <font color=#f1b479>}</font> <font color=#f1b479>[</font>join <font color=#f1b479>$</font>processedNames<font color=#f1b479>]</font>&quot;</font>
            <b><font color=#ffa500>set</font></b> autoTitleStr {<b><font color=#ffa500>set</font></b> key autotitle columnheader}
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> autoTitleStr {}
    }
    <b><font color=#ffa500>set</font></b> numRow [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> x]]
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numRow</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> row [@ [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> x] <font color=#f1b479>$i</font>]
        <b><font color=#ffa500>foreach</font></b> val [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] {
            <b><font color=#ffa500>lappend</font></b> row [@ <font color=#f1b479>$val</font> <font color=#f1b479>$i</font>]
        }
        <b><font color=#ffa500>lappend</font></b> outList <font color=#f1b479>$row</font>
    }
    <i><font color=#76a396># save data to temporary file or use inline data block</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> inlineData <font color=#90ee90>&quot;\$data &lt;&lt; EOD\n<font color=#f1b479>[</font>::csv::joinlist <font color=#f1b479>$</font>outList &quot;</font> <font color=#90ee90>&quot;<font color=#f1b479>]</font>\nEOD\n&quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> counter 0
        <b><font color=#ffa500>while</font></b> {true} {
            <b><font color=#ffa500>set</font></b> filePath [<b><font color=#ffa500>file</font></b> join [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> path] gnuplotTemp<font color=#f1b479>${counter}</font>.csv]
            <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>file</font></b> exists <font color=#f1b479>$filePath</font>]} {
                <b><font color=#ffa500>incr</font></b> counter
            } <b><font color=#ffa500>else</font></b> {
                <b><font color=#ffa500>set</font></b> resFile [<b><font color=#ffa500>open</font></b> <font color=#f1b479>$filePath</font> w+]
                <b><font color=#fe6efe>break</font></b>
            }
        }
        <b><font color=#ffa500>puts</font></b> <font color=#f1b479>$resFile</font> [::csv::joinlist <font color=#f1b479>$outList</font> { }]
        <b><font color=#ffa500>close</font></b> <font color=#f1b479>$resFile</font>
    }
    <i><font color=#76a396># create command strings for gnuplot</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;<font color=#f1b479>$</font>inlineData plot \$data using 2:xtic(1) &quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;plot 'gnuplotTemp<font color=#f1b479>${</font>counter<font color=#f1b479>}</font>.csv' using 2:xtic(1)&quot;</font>
    }
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 1} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numCol</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> commandStr  <font color=#90ee90>&quot;<font color=#f1b479>${</font>commandStr<font color=#f1b479>}</font>, '' using <font color=#f1b479>[</font>= <font color=#f1b479>{$</font>i+2<font color=#f1b479>}]</font>&quot;</font>
    }
    <b><font color=#ffa500>set</font></b> commandList [<b><font color=#ffa500>list</font></b> {<b><font color=#ffa500>set</font></b> mouse} <font color=#f1b479>$outputStr</font> <font color=#f1b479>$darkmodeStr</font> {<b><font color=#ffa500>set</font></b> style data histogram} <font color=#f1b479>$styleStr</font> <font color=#f1b479>$fillStr</font> <font color=#f1b479>$optcmdStr</font> <font color=#f1b479>$gridStr</font> <font color=#f1b479>$autoTitleStr</font> <font color=#f1b479>$xlabelStr</font> <font color=#f1b479>$ylabelStr</font> <font color=#f1b479>$boxwidthStr</font> <font color=#f1b479>$commandStr</font> {pause mouse close}]
    <b><font color=#ffa500>set</font></b> commandStr [<b><font color=#ffa500>join</font></b> [<b><font color=#ffa500>lmap</font></b> elem <font color=#f1b479>$commandList</font> {= {<font color=#f1b479>$elem</font> eq {} ? [<b><font color=#fe6efe>continue</font></b>] : <font color=#f1b479>$elem</font>}}] <font color=#90ee90>&quot;\n&quot;</font>]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#ffa500>if</font></b> {![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> nodelete] && ![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>file</font></b> delete <font color=#f1b479>$filePath</font>
    }
    <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$status</font>&gt;0} {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$errorStr</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$commandStr</font>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXNYN'>plotXNYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with individual x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXNYN</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? ?-lstyles list? ?-output string? -columns xList1 yList1 ?xList2 yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#b9b96e>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete or -inline switch.</td></tr>
<tr><td><code><font color=#b9b96e>-columns</font></code></td><td>Provides the x and y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#b9b96e>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#b9b96e>-grid</font></code></td><td>Enables display of grid.</td></tr>
<tr><td><code><font color=#b9b96e>-inline</font></code></td><td>Provides data directly in command string, without creating temporary file.</td></tr>
<tr><td><code><font color=#b9b96e>-lstyles</font></code></td><td>Set individual styles for each graph in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code><font color=#b9b96e>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list.</td></tr>
<tr><td><code><font color=#b9b96e>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#b9b96e>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#b9b96e>-output</font></code></td><td>Command redirects output to the specified file or device.</td></tr>
<tr><td><code><font color=#b9b96e>-path</font></code></td><td>Provides location of temporary file, default is the current location.</td></tr>
<tr><td><code><font color=#b9b96e>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#b9b96e>-terminal</font></code></td><td>Selects terminal, default 'x11' on Linux and 'windows' on Windows.</td></tr>
<tr><td><code><font color=#b9b96e>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-xlog</font></code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code><font color=#b9b96e>-xrange</font></code></td><td>Provides minimum and maximum values of x-axis, must be list with two elements.</td></tr>
<tr><td><code><font color=#b9b96e>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-ylog</font></code></td><td>Enables log scale of y axis.</td></tr>
<tr><td><code><font color=#b9b96e>-yrange</font></code></td><td>Provides minimum and maximum values of y-axis, must be list with two elements.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#ffa500>set</font></b> x1 [<b><font color=#ffa500>list</font></b> 0 1 2 3 4 5 6]
<b><font color=#ffa500>set</font></b> y1 [<b><font color=#ffa500>list</font></b> 0 1 4 9 16 25 36]
<b><font color=#ffa500>set</font></b> x2 [<b><font color=#ffa500>list</font></b> 0 1 2 3 4 5 6 7]
<b><font color=#ffa500>set</font></b> y2 [<b><font color=#ffa500>list</font></b> 0 1 8 27 64 125 216 350]
gnuplotutil::plotXNYN <font color=#b9b96e>-xlog</font> <font color=#b9b96e>-ylog</font> <font color=#b9b96e>-xlabel</font> <font color=#90ee90>&quot;x label&quot;</font> <font color=#b9b96e>-ylabel</font> <font color=#90ee90>&quot;y label&quot;</font> <font color=#b9b96e>-darkmode</font> <font color=#b9b96e>-grid</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b> y1 y2]
<font color=#b9b96e>-columns</font> <font color=#f1b479>$x1</font> <font color=#f1b479>$y1</font> <font color=#f1b479>$x2</font> <font color=#f1b479>$y2</font>
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXNYN' href="javascript:toggleSource('gnuplotutil_plotXNYN')">Show source</a></p>
<div id='gnuplotutil_plotXNYN' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::plotXNYN {args} {

    <i><font color=#76a396># Plots 2D graphs in Gnuplot with individual x-values.</font></i>
    <i><font color=#76a396>#  -xlog - enables log scale of x axis</font></i>
    <i><font color=#76a396>#  -ylog - enables log scale of y axis</font></i>
    <i><font color=#76a396>#  -xrange - provides minimum and maximum values of x-axis, must be list with two elements</font></i>
    <i><font color=#76a396>#  -yrange - provides minimum and maximum values of y-axis, must be list with two elements</font></i>
    <i><font color=#76a396>#  -background - enables running gnuplot in background, requires -nodelete or -inline switch</font></i>
    <i><font color=#76a396>#  -inline - provides data directly in command string, without creating temporary file</font></i>
    <i><font color=#76a396>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#76a396>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#76a396>#  -terminal - selects terminal, default 'x11' on Linux and 'windows' on Windows</font></i>
    <i><font color=#76a396>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#76a396>#  -grid - enables display of grid</font></i>
    <i><font color=#76a396>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#76a396>#  -output - command redirects output to the specified file or device</font></i>
    <i><font color=#76a396>#  -path - provides location of temporary file, default is the current location</font></i>
    <i><font color=#76a396>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#76a396>#  -lstyles - set individual styles for each graph in the same order as data columns provided,</font></i>
    <i><font color=#76a396>#    must have the length 2*(number of x-y data pairs)</font></i>
    <i><font color=#76a396>#  -columns -  provides the x and y data to plot, the number of columns is not restricted and must</font></i>
    <i><font color=#76a396>#    be provided at the end of command after all switches</font></i>
    <i><font color=#76a396># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#76a396># Synopsis: ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string?</font></i>
    <i><font color=#76a396>#   ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? ?-lstyles list? ?-output string?</font></i>
    <i><font color=#76a396>#   -columns xList1 yList1 ?xList2 yList2 ...?</font></i>
    <i><font color=#76a396># ```</font></i>
    <i><font color=#76a396># Example:</font></i>
    <i><font color=#76a396># set x1 [list 0 1 2 3 4 5 6]</font></i>
    <i><font color=#76a396># set y1 [list 0 1 4 9 16 25 36]</font></i>
    <i><font color=#76a396># set x2 [list 0 1 2 3 4 5 6 7]</font></i>
    <i><font color=#76a396># set y2 [list 0 1 8 27 64 125 216 350]</font></i>
    <i><font color=#76a396># gnuplotutil::plotXNYN -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -darkmode -grid -names [list y1 y2]</font></i>
    <i><font color=#76a396># -columns $x1 $y1 $x2 $y2</font></i>
    <i><font color=#76a396># ```</font></i>
    <b><font color=#ffa500>set</font></b> arguments [argparse <font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Plots 2D graphs in Gnuplot with individual x-values} {
        {<font color=#b9b96e>-xlog</font> <font color=#b9b96e>-help</font> {Enables log scale of x axis}}
        {<font color=#b9b96e>-ylog</font> <font color=#b9b96e>-help</font> {Enables log scale of y axis}}
        {<font color=#b9b96e>-xrange</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides minimum and maximum values of x-axis, must be list with two elements}}
        {<font color=#b9b96e>-yrange</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides minimum and maximum values of y-axis, must be list with two elements}}
        {<font color=#b9b96e>-background</font> <font color=#b9b96e>-help</font> {Enables running gnuplot in background}}
        {<font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Provides data directly in command string, without creating temporary file}}
        {<font color=#b9b96e>-nodelete</font> <font color=#b9b96e>-forbid</font> inline <font color=#b9b96e>-help</font> {Disables deleting of temporary file after end of plotting}}
        {<font color=#b9b96e>-xlabel</font>= <font color=#b9b96e>-help</font> {Provides x-axis label to display}}
        {<font color=#b9b96e>-ylabel</font>= <font color=#b9b96e>-help</font> {Provides y-axis label to display}}
        {<font color=#b9b96e>-optcmd</font>= <font color=#b9b96e>-help</font> {Provides optional string that may contain additional commands to gnuplot}}
        {<font color=#b9b96e>-terminal</font>= <font color=#b9b96e>-help</font> {Selects terminal, default 'x11' on Linux and 'windows' on Windows}}
        {<font color=#b9b96e>-size</font>= <font color=#b9b96e>-default</font> {800 600} <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides size of the window, must be list with two elements: width and height in pixels}}
        {<font color=#b9b96e>-grid</font> <font color=#b9b96e>-help</font> {Enables display of grid}}
        {<font color=#b9b96e>-darkmode</font> <font color=#b9b96e>-help</font> {Enables dark mode for graph}}
        {<font color=#b9b96e>-output</font>= <font color=#b9b96e>-help</font> {Command redirects output to the specified file or device}}
        {<font color=#b9b96e>-path</font>= <font color=#b9b96e>-default</font> {} <font color=#b9b96e>-help</font> {Provides location of temporary file}}
        {<font color=#b9b96e>-names</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums}}
        {<font color=#b9b96e>-lstyles</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Sets individual styles for each graph in the same order as data columns provided, must have the length 2*(number of x-y data pairs)}}
        {<font color=#b9b96e>-columns</font> <font color=#b9b96e>-catchall</font> <font color=#b9b96e>-help</font> {Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches}}
    }]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        AliasesKeysCheck <font color=#f1b479>$arguments</font> {nodelete inline}
    }
    initArgStr <font color=#f1b479>$arguments</font> xlog xscaleStr {{<b><font color=#ffa500>set</font></b> logscale x}}
    initArgStr <font color=#f1b479>$arguments</font> ylog yscaleStr {{<b><font color=#ffa500>set</font></b> logscale y}}
    initRangeStr <font color=#f1b479>$arguments</font> xrange xrangeStr
    initRangeStr <font color=#f1b479>$arguments</font> yrange yrangeStr
    initArgStr <font color=#f1b479>$arguments</font> grid gridStr {{<b><font color=#ffa500>set</font></b> grid}}
    initArgStr <font color=#f1b479>$arguments</font> output outputStr {<font color=#90ee90>&quot;set output '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments output<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> xlabel xlabelStr {<font color=#90ee90>&quot;set xlabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments xlabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> ylabel ylabelStr {<font color=#90ee90>&quot;set ylabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments ylabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> names columnNames {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> names]}
    initArgStr <font color=#f1b479>$arguments</font> lstyles lineStyles {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> lstyles]}
    initArgStr <font color=#f1b479>$arguments</font> optcmd optcmdStr {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> optcmd]}
    initTerminalStr <font color=#f1b479>$arguments</font> terminalStr
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> darkmode]} {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#ffa500>append</font></b> darkmodeStr <font color=#90ee90>&quot;\n&quot;</font> <font color=#f1b479>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced&quot;</font>
    }
    <b><font color=#ffa500>set</font></b> columnsNum [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns]]
    <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$columnsNum</font> % 2 != 0} {
        <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error {Number of data columns <font color=#f1b479>$columnsNum</font> is odd}
    }
    <b><font color=#ffa500>set</font></b> dataNum [= {int(<font color=#f1b479>$columnsNum</font>/2)}]
    <b><font color=#ffa500>set</font></b> yColumnCount 0
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> xLen [<b><font color=#ffa500>llength</font></b> [@ [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] [= {int(<font color=#f1b479>$i</font>*2)}]]]
        <b><font color=#ffa500>set</font></b> yLen [<b><font color=#ffa500>llength</font></b> [@ [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] [= {int(<font color=#f1b479>$i</font>*2+1)}]]]
        <b><font color=#ffa500>lappend</font></b> xLengths <font color=#f1b479>$xLen</font>
        <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$xLen</font> != <font color=#f1b479>$yLen</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Number of points '<font color=#f1b479>$</font>yLen' of y-axis data (column <font color=#f1b479>[</font>= <font color=#f1b479>{</font>1+<font color=#f1b479>$</font>yColumnCount<font color=#f1b479>}]</font>) doesn't match the number of points '<font color=#f1b479>$</font>xLen' of x-axis data (column <font color=#f1b479>$</font>yColumnCount)&quot;</font>
        }
        <b><font color=#ffa500>incr</font></b> yColumnCount
    }
    <i><font color=#76a396># fill output structure with values</font></i>
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> names])} {
            <b><font color=#ffa500>set</font></b> headerString {}
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$columnNames</font>]!=<font color=#f1b479>$dataNum</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Column names count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>columnNames<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>dataNum' of data columns&quot;</font>
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;=<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
                <b><font color=#ffa500>set</font></b> headerString <font color=#90ee90>&quot;<font color=#f1b479>${</font>headerString<font color=#f1b479>}</font> <font color=#f1b479>{</font> <font color=#f1b479>}</font> \&quot;<font color=#f1b479>[</font>@ <font color=#f1b479>$</font>columnNames <font color=#f1b479>$</font>i<font color=#f1b479>]</font>\&quot;&quot;</font>
            }
            <b><font color=#ffa500>lappend</font></b> outList <font color=#f1b479>$headerString</font>
            <b><font color=#ffa500>set</font></b> autoTitleStr {<b><font color=#ffa500>set</font></b> key autotitle columnheader}
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> autoTitleStr {}
    }
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> lstyles])} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$lineStyles</font>]!=<font color=#f1b479>$dataNum</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Lines styles count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>lineStyles<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>dataNum' of data columns&quot;</font>
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
            <b><font color=#ffa500>lappend</font></b> lineStyles {with lines}
        }
    }
    <b><font color=#ffa500>set</font></b> numRow [tcl::mathfunc::max {<b><font color=#ffa500>*</font></b>}<font color=#f1b479>$xLengths</font>]
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numRow</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> row {}
        <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> j 0} {<font color=#f1b479>$j</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> j} {
            <b><font color=#ffa500>set</font></b> columns [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns]
            <b><font color=#ffa500>set</font></b> xVal [@ [@ <font color=#f1b479>$columns</font> [= {int(<font color=#f1b479>$j</font>*2)}]] <font color=#f1b479>$i</font>]
            <b><font color=#ffa500>set</font></b> yVal [@ [@ <font color=#f1b479>$columns</font> [= {int(<font color=#f1b479>$j</font>*2+1)}]] <font color=#f1b479>$i</font>]
            <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$xVal</font>=={}} {
                <b><font color=#ffa500>lappend</font></b> row { } { }
            } <b><font color=#ffa500>else</font></b> {
                <b><font color=#ffa500>lappend</font></b> row <font color=#f1b479>$xVal</font> <font color=#f1b479>$yVal</font>
            }
        }
        <b><font color=#ffa500>lappend</font></b> outList <font color=#f1b479>$row</font>
    }
    <i><font color=#76a396># save data to temporary file or use inline data block</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> inlineData <font color=#90ee90>&quot;\$data &lt;&lt; EOD\n<font color=#f1b479>[</font>::csv::joinlist <font color=#f1b479>$</font>outList &quot;</font> <font color=#90ee90>&quot;<font color=#f1b479>]</font>\nEOD\n&quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> counter 0
        <b><font color=#ffa500>while</font></b> {true} {
            <b><font color=#ffa500>set</font></b> filePath [<b><font color=#ffa500>file</font></b> join [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> path] gnuplotTemp<font color=#f1b479>${counter}</font>.csv]
            <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>file</font></b> exists <font color=#f1b479>$filePath</font>]} {
                <b><font color=#ffa500>incr</font></b> counter
            } <b><font color=#ffa500>else</font></b> {
                <b><font color=#ffa500>set</font></b> resFile [<b><font color=#ffa500>open</font></b> <font color=#f1b479>$filePath</font> w+]
                <b><font color=#fe6efe>break</font></b>
            }
        }
        <b><font color=#ffa500>puts</font></b> <font color=#f1b479>$resFile</font> [::csv::joinlist <font color=#f1b479>$outList</font> { }]
        <b><font color=#ffa500>close</font></b> <font color=#f1b479>$resFile</font>
    }
    <i><font color=#76a396># create command strings for gnuplot</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;<font color=#f1b479>$</font>inlineData plot \$data using 1:2 <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles 0<font color=#f1b479>]</font> &quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;plot '<font color=#f1b479>[</font>file join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments path<font color=#f1b479>]</font> gnuplotTemp<font color=#f1b479>${</font>counter<font color=#f1b479>}</font>.csv<font color=#f1b479>]</font>' using 1:2 <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles 0<font color=#f1b479>]</font> &quot;</font>
    }
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 1} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> commandStr  <font color=#90ee90>&quot;<font color=#f1b479>${</font>commandStr<font color=#f1b479>}</font>, '' using <font color=#f1b479>[</font>= <font color=#f1b479>{$</font>i*2+1<font color=#f1b479>}]</font>:<font color=#f1b479>[</font>= <font color=#f1b479>{$</font>i*2+2<font color=#f1b479>}]</font> <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles <font color=#f1b479>$</font>i<font color=#f1b479>]</font> &quot;</font>
    }
    <b><font color=#ffa500>set</font></b> commandList [<b><font color=#ffa500>list</font></b> {<b><font color=#ffa500>set</font></b> mouse} <font color=#f1b479>$outputStr</font> <font color=#f1b479>$darkmodeStr</font> <font color=#f1b479>$xrangeStr</font> <font color=#f1b479>$yrangeStr</font> <font color=#f1b479>$optcmdStr</font> <font color=#f1b479>$autoTitleStr</font> <font color=#f1b479>$xlabelStr</font> <font color=#f1b479>$ylabelStr</font> <font color=#f1b479>$xscaleStr</font> <font color=#f1b479>$yscaleStr</font> <font color=#f1b479>$gridStr</font> <font color=#f1b479>$commandStr</font> {pause mouse close}]
    <b><font color=#ffa500>set</font></b> commandStr [<b><font color=#ffa500>join</font></b> [<b><font color=#ffa500>lmap</font></b> elem <font color=#f1b479>$commandList</font> {= {<font color=#f1b479>$elem</font> eq {} ? [<b><font color=#fe6efe>continue</font></b>] : <font color=#f1b479>$elem</font>}}] <font color=#90ee90>&quot;\n&quot;</font>]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#ffa500>if</font></b> {![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> nodelete] && ![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>file</font></b> delete <font color=#f1b479>$filePath</font>
    }
    <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$status</font>&gt;0} {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$errorStr</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$commandStr</font>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXNYNMp'>plotXNYNMp</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXNYNMp</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#b9b96e>-columns</font></code></td><td>Provides the x and y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#b9b96e>-grid</font></code></td><td>Enables display of grid.</td></tr>
<tr><td><code><font color=#b9b96e>-inline</font></code></td><td>Provides data directly in command string, without creating temporary file, and passes datablock number.</td></tr>
<tr><td><code><font color=#b9b96e>-lstyles</font></code></td><td>Set individual styles for each graph in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code><font color=#b9b96e>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code><font color=#b9b96e>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#b9b96e>-origin</font></code></td><td>Set origin of the subplot.</td></tr>
<tr><td><code><font color=#b9b96e>-path</font></code></td><td>Provides location of temporary file, default is current location.</td></tr>
<tr><td><code><font color=#b9b96e>-size</font></code></td><td>Set size of the subplot.</td></tr>
<tr><td><code><font color=#b9b96e>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-xlog</font></code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code><font color=#b9b96e>-xrange</font></code></td><td>Provides minimum and maximum values of x-axis, must be list with two elements.</td></tr>
<tr><td><code><font color=#b9b96e>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-ylog</font></code></td><td>Enables log scale of y axis.</td></tr>
<tr><td><code><font color=#b9b96e>-yrange</font></code></td><td>Provides minimum and maximum values of y-axis, must be list with two elements.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>list that contains command script and name of data file</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXNYNMp' href="javascript:toggleSource('gnuplotutil_plotXNYNMp')">Show source</a></p>
<div id='gnuplotutil_plotXNYNMp' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::plotXNYNMp {args} {

    <i><font color=#76a396># Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files</font></i>
    <i><font color=#76a396>#  for individual plots</font></i>
    <i><font color=#76a396>#  -xlog - enables log scale of x axis</font></i>
    <i><font color=#76a396>#  -ylog - enables log scale of y axis</font></i>
    <i><font color=#76a396>#  -xrange - provides minimum and maximum values of x-axis, must be list with two elements</font></i>
    <i><font color=#76a396>#  -yrange - provides minimum and maximum values of y-axis, must be list with two elements</font></i>
    <i><font color=#76a396>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -grid - enables display of grid</font></i>
    <i><font color=#76a396>#  -size - set size of the subplot</font></i>
    <i><font color=#76a396>#  -origin - set origin of the subplot</font></i>
    <i><font color=#76a396>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#76a396>#  -path - provides location of temporary file, default is current location</font></i>
    <i><font color=#76a396>#  -inline - provides data directly in command string, without creating temporary file, and passes datablock number</font></i>
    <i><font color=#76a396>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#76a396>#    in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</font></i>
    <i><font color=#76a396>#  -lstyles - set individual styles for each graph in the same order as data columns provided,</font></i>
    <i><font color=#76a396>#    must have the length 2*(number of x-y data pairs)</font></i>
    <i><font color=#76a396>#  -columns -  provides the x and y data to plot, the number of columns is not restricted and must</font></i>
    <i><font color=#76a396>#    be provided at the end of command after all switches</font></i>
    <i><font color=#76a396># Returns: list that contains command script and name of data file</font></i>
    <i><font color=#76a396># Synopsis: ?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list?</font></i>
    <i><font color=#76a396>#   -columns xList1 yList1 ?xList2 yList2 ...?</font></i>
    <b><font color=#ffa500>set</font></b> arguments [argparse <font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots} {
        {<font color=#b9b96e>-xlog</font> <font color=#b9b96e>-help</font> {Enables log scale of x axis}}
        {<font color=#b9b96e>-ylog</font> <font color=#b9b96e>-help</font> {Enables log scale of y axis}}
        {<font color=#b9b96e>-xrange</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides minimum and maximum values of x-axis, must be list with two elements}}
        {<font color=#b9b96e>-yrange</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides minimum and maximum values of y-axis, must be list with two elements}}
        {<font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Provides data directly in command string, without creating temporary file}}
        {<font color=#b9b96e>-xlabel</font>= <font color=#b9b96e>-help</font> {Provides x-axis label to display}}
        {<font color=#b9b96e>-ylabel</font>= <font color=#b9b96e>-help</font> {Provides y-axis label to display}}
        {<font color=#b9b96e>-grid</font> <font color=#b9b96e>-help</font> {Enables display of grid}}
        {<font color=#b9b96e>-size</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides size of the window, must be list with two elements: width and height in pixels}}
        {<font color=#b9b96e>-origin</font>= <font color=#b9b96e>-help</font> {Set origin of the subplot}}
        {<font color=#b9b96e>-optcmd</font>= <font color=#b9b96e>-help</font> {Provides optional string that may contain additional commands to gnuplot}}
        {<font color=#b9b96e>-path</font>= <font color=#b9b96e>-default</font> {} <font color=#b9b96e>-help</font> {Provides location of temporary file}}
        {<font color=#b9b96e>-names</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums}}
        {<font color=#b9b96e>-lstyles</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Sets individual styles for each graph in the same order as data columns provided, must have the length 2*(number of x-y data pairs)}}
        {<font color=#b9b96e>-columns</font> <font color=#b9b96e>-catchall</font> <font color=#b9b96e>-help</font> {Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches}}
    }]
    initArgStr <font color=#f1b479>$arguments</font> size sizeStr {<font color=#90ee90>&quot;set size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font>&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> origin originStr {<font color=#90ee90>&quot;set origin <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments origin<font color=#f1b479>]</font> ,<font color=#f1b479>]</font>&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> xlog xscaleStr {{<b><font color=#ffa500>set</font></b> logscale x}}
    initArgStr <font color=#f1b479>$arguments</font> xlog xscaleStrUnset {{<b><font color=#ffa500>unset</font></b> logscale x}}
    initRangeStr <font color=#f1b479>$arguments</font> xrange xrangeStr
    initArgStr <font color=#f1b479>$arguments</font> xrange xrangeStrUnset {{<b><font color=#ffa500>unset</font></b> xrange}}
    initRangeStr <font color=#f1b479>$arguments</font> yrange yrangeStr
    initArgStr <font color=#f1b479>$arguments</font> yrange yrangeStrUnset {{<b><font color=#ffa500>unset</font></b> yrange}}
    initArgStr <font color=#f1b479>$arguments</font> ylog yscaleStr {{<b><font color=#ffa500>set</font></b> logscale y}}
    initArgStr <font color=#f1b479>$arguments</font> ylog yscaleStrUnset {{<b><font color=#ffa500>unset</font></b> logscale y}}
    initArgStr <font color=#f1b479>$arguments</font> grid gridStr {{<b><font color=#ffa500>set</font></b> grid}}
    initArgStr <font color=#f1b479>$arguments</font> grid gridStrUnset {{<b><font color=#ffa500>unset</font></b> grid}}
    initArgStr <font color=#f1b479>$arguments</font> lstyles lineStyles {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> lstyles]}
    initArgStr <font color=#f1b479>$arguments</font> names columnNames {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> names]}
    initArgStr <font color=#f1b479>$arguments</font> xlabel xlabelStr {<font color=#90ee90>&quot;set xlabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments xlabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> xlabel xlabelStrUnset {{<b><font color=#ffa500>unset</font></b> xlabel}}
    initArgStr <font color=#f1b479>$arguments</font> ylabel ylabelStr {<font color=#90ee90>&quot;set ylabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments ylabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> ylabel ylabelStrUnset {{<b><font color=#ffa500>unset</font></b> ylabel}}
    initArgStr <font color=#f1b479>$arguments</font> optcmd optcmdStr {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> optcmd]}
    <b><font color=#ffa500>set</font></b> columnsNum [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns]]
    <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$columnsNum</font> % 2 != 0} {
        <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Number of data columns '<font color=#f1b479>$</font>columnsNum' is odd&quot;</font>
    }
    <b><font color=#ffa500>set</font></b> dataNum [= {int(<font color=#f1b479>$columnsNum</font>/2)}]
    <b><font color=#ffa500>set</font></b> yColumnCount 0
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> xLen [<b><font color=#ffa500>llength</font></b> [@ [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] [= {int(<font color=#f1b479>$i</font>*2)}]]]
        <b><font color=#ffa500>set</font></b> yLen [<b><font color=#ffa500>llength</font></b> [@ [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] [= {int(<font color=#f1b479>$i</font>*2+1)}]]]
        <b><font color=#ffa500>lappend</font></b> xLengths <font color=#f1b479>$xLen</font>
        <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$xLen</font> != <font color=#f1b479>$yLen</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Number of points '<font color=#f1b479>$</font>yLen' of y-axis data (column <font color=#f1b479>[</font>= <font color=#f1b479>{</font>1+<font color=#f1b479>$</font>yColumnCount<font color=#f1b479>}]</font>) doesn't match the number of points '<font color=#f1b479>$</font>xLen' of x-axis data (column <font color=#f1b479>$</font>yColumnCount)&quot;</font>
        }
        <b><font color=#ffa500>incr</font></b> yColumnCount
    }
    <i><font color=#76a396># fill output structure with values</font></i>
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> names])} {
            <b><font color=#ffa500>set</font></b> headerString {}
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$columnNames</font>]!=<font color=#f1b479>$dataNum</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Column names count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>columnNames<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>dataNum' of data columns&quot;</font>
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;=<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
                <b><font color=#ffa500>set</font></b> headerString <font color=#90ee90>&quot;<font color=#f1b479>${</font>headerString<font color=#f1b479>}</font> <font color=#f1b479>{</font> <font color=#f1b479>}</font> \&quot;<font color=#f1b479>[</font>@ <font color=#f1b479>$</font>columnNames <font color=#f1b479>$</font>i<font color=#f1b479>]</font>\&quot;&quot;</font>
            }
            <b><font color=#ffa500>lappend</font></b> outList <font color=#f1b479>$headerString</font>
            <b><font color=#ffa500>set</font></b> autoTitleStr {<b><font color=#ffa500>set</font></b> key autotitle columnheader}
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> autoTitleStr {}
    }
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> lstyles])} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$lineStyles</font>]!=<font color=#f1b479>$dataNum</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Lines styles count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>lineStyles<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>dataNum' of data columns&quot;</font>
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
            <b><font color=#ffa500>lappend</font></b> lineStyles {with lines}
        }
    }
    <b><font color=#ffa500>set</font></b> numRow [tcl::mathfunc::max {<b><font color=#ffa500>*</font></b>}<font color=#f1b479>$xLengths</font>]
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numRow</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> row {}
        <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> j 0} {<font color=#f1b479>$j</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> j} {
            <b><font color=#ffa500>set</font></b> columns [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns]
            <b><font color=#ffa500>set</font></b> xVal [@ [@ <font color=#f1b479>$columns</font> [= {int(<font color=#f1b479>$j</font>*2)}]] <font color=#f1b479>$i</font>]
            <b><font color=#ffa500>set</font></b> yVal [@ [@ <font color=#f1b479>$columns</font> [= {int(<font color=#f1b479>$j</font>*2+1)}]] <font color=#f1b479>$i</font>]
            <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$xVal</font>=={}} {
                <b><font color=#ffa500>lappend</font></b> row { } { }
            } <b><font color=#ffa500>else</font></b> {
                <b><font color=#ffa500>lappend</font></b> row <font color=#f1b479>$xVal</font> <font color=#f1b479>$yVal</font>
            }
        }
        <b><font color=#ffa500>lappend</font></b> outList <font color=#f1b479>$row</font>
    }
    <i><font color=#76a396># save data to temporary file</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> inlineData <font color=#90ee90>&quot;\$data<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments inline<font color=#f1b479>]</font> &lt;&lt; EOD\n<font color=#f1b479>[</font>::csv::joinlist <font color=#f1b479>$</font>outList &quot;</font> <font color=#90ee90>&quot;<font color=#f1b479>]</font>\nEOD\n&quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> counter 0
        <b><font color=#ffa500>while</font></b> {true} {
            <b><font color=#ffa500>set</font></b> filePath [<b><font color=#ffa500>file</font></b> join [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> path] gnuplotTemp<font color=#f1b479>${counter}</font>.csv]
            <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>file</font></b> exists <font color=#f1b479>$filePath</font>]} {
                <b><font color=#ffa500>incr</font></b> counter
            } <b><font color=#ffa500>else</font></b> {
                <b><font color=#ffa500>set</font></b> resFile [<b><font color=#ffa500>open</font></b> <font color=#f1b479>$filePath</font> w+]
                <b><font color=#fe6efe>break</font></b>
            }
        }
        <b><font color=#ffa500>puts</font></b> <font color=#f1b479>$resFile</font> [::csv::joinlist <font color=#f1b479>$outList</font> { }]
        <b><font color=#ffa500>close</font></b> <font color=#f1b479>$resFile</font>
    }
    <i><font color=#76a396># create command strings for gnuplot</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;<font color=#f1b479>$</font>inlineData plot \$data<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments inline<font color=#f1b479>]</font> using 1:2 <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles 0<font color=#f1b479>]</font> &quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;plot '<font color=#f1b479>[</font>file join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments path<font color=#f1b479>]</font> gnuplotTemp<font color=#f1b479>${</font>counter<font color=#f1b479>}</font>.csv<font color=#f1b479>]</font>' using 1:2 <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles 0<font color=#f1b479>]</font> &quot;</font>
    }
     <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 1} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$dataNum</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> commandStr  <font color=#90ee90>&quot;<font color=#f1b479>${</font>commandStr<font color=#f1b479>}</font>, '' using <font color=#f1b479>[</font>= <font color=#f1b479>{$</font>i*2+1<font color=#f1b479>}]</font>:<font color=#f1b479>[</font>= <font color=#f1b479>{$</font>i*2+2<font color=#f1b479>}]</font> <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles <font color=#f1b479>$</font>i<font color=#f1b479>]</font> &quot;</font>
    }
    <b><font color=#ffa500>set</font></b> commandList [<b><font color=#ffa500>list</font></b> <font color=#f1b479>$optcmdStr</font> <font color=#f1b479>$sizeStr</font> <font color=#f1b479>$originStr</font> <font color=#f1b479>$autoTitleStr</font> <font color=#f1b479>$xlabelStr</font> <font color=#f1b479>$ylabelStr</font> <font color=#f1b479>$xrangeStr</font> <font color=#f1b479>$yrangeStr</font> <font color=#f1b479>$xscaleStr</font> <font color=#f1b479>$yscaleStr</font> <font color=#f1b479>$gridStr</font> <font color=#f1b479>$commandStr</font> <font color=#f1b479>$xlabelStrUnset</font> <font color=#f1b479>$ylabelStrUnset</font> <font color=#f1b479>$xscaleStrUnset</font> <font color=#f1b479>$yscaleStrUnset</font> <font color=#f1b479>$gridStrUnset</font> <font color=#f1b479>$xrangeStrUnset</font> <font color=#f1b479>$yrangeStrUnset</font>]
    <b><font color=#ffa500>set</font></b> commandStr [<b><font color=#ffa500>join</font></b> [<b><font color=#ffa500>lmap</font></b> elem <font color=#f1b479>$commandList</font> {= {<font color=#f1b479>$elem</font> eq {} ? [<b><font color=#fe6efe>continue</font></b>] : <font color=#f1b479>$elem</font>}}] <font color=#90ee90>&quot;\n&quot;</font>]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#fe6efe>return</font></b> [<b><font color=#ffa500>dict</font></b> create cmdString <font color=#f1b479>$commandStr</font>]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#fe6efe>return</font></b> [<b><font color=#ffa500>dict</font></b> create cmdString <font color=#f1b479>$commandStr</font> file <font color=#f1b479>$filePath</font>]
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXYN'>plotXYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with the common x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXYN</span> <span class='ruff_arg'>x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? ?-lstyles list? ?-output string? -columns yList1 ?yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#b9b96e>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete or -inline switch.</td></tr>
<tr><td><code><font color=#b9b96e>-columns</font></code></td><td>Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#b9b96e>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#b9b96e>-grid</font></code></td><td>Enables display of grid.</td></tr>
<tr><td><code><font color=#b9b96e>-inline</font></code></td><td>Provides data directly in command string, without creating temporary file.</td></tr>
<tr><td><code><font color=#b9b96e>-lstyles</font></code></td><td>Set individual styles for each graph in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code><font color=#b9b96e>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums.</td></tr>
<tr><td><code><font color=#b9b96e>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#b9b96e>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#b9b96e>-output</font></code></td><td>Command redirects output to the specified file or device.</td></tr>
<tr><td><code><font color=#b9b96e>-path</font></code></td><td>Provides location of temporary file, default is the current location.</td></tr>
<tr><td><code><font color=#b9b96e>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#b9b96e>-terminal</font></code></td><td>Selects terminal, default 'x11' on Linux and 'windows' on Windows.</td></tr>
<tr><td><code><font color=#b9b96e>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-xlog</font></code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code><font color=#b9b96e>-xrange</font></code></td><td>Provides minimum and maximum values of x-axis, must be list with two elements.</td></tr>
<tr><td><code><font color=#b9b96e>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#b9b96e>-ylog</font></code></td><td>Enables log scale of y axis.</td></tr>
<tr><td><code><font color=#b9b96e>-yrange</font></code></td><td>Provides minimum and maximum values of y-axis, must be list with two elements.</td></tr>
<tr><td><code>x</code></td><td>List of x-point for 2D graph.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#ffa500>set</font></b> x [<b><font color=#ffa500>list</font></b> 0 1 2 3 4 5 6]
<b><font color=#ffa500>set</font></b> y1 [<b><font color=#ffa500>list</font></b> 0 1 4 9 16 25 36]
<b><font color=#ffa500>set</font></b> y2 [<b><font color=#ffa500>list</font></b> 0 1 8 27 64 125 216]
gnuplotutil::plotXYN <font color=#f1b479>$x</font> <font color=#b9b96e>-xlog</font> <font color=#b9b96e>-ylog</font> <font color=#b9b96e>-xlabel</font> <font color=#90ee90>&quot;x label&quot;</font> <font color=#b9b96e>-ylabel</font> <font color=#90ee90>&quot;y label&quot;</font> <font color=#b9b96e>-grid</font> <font color=#b9b96e>-names</font> [<b><font color=#ffa500>list</font></b>  y1 y2]
<font color=#b9b96e>-columns</font> <font color=#f1b479>$y1</font> <font color=#f1b479>$y2</font>
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXYN' href="javascript:toggleSource('gnuplotutil_plotXYN')">Show source</a></p>
<div id='gnuplotutil_plotXYN' class='ruff_dyn_src'><pre><b><font color=#fe6efe>proc</font></b> ::gnuplotutil::plotXYN {args} {

    <i><font color=#76a396># Plots 2D graphs in Gnuplot with the common x-values.</font></i>
    <i><font color=#76a396>#  x - list of x-point for 2D graph</font></i>
    <i><font color=#76a396>#  -xlog - enables log scale of x axis</font></i>
    <i><font color=#76a396>#  -ylog - enables log scale of y axis</font></i>
    <i><font color=#76a396>#  -xrange - provides minimum and maximum values of x-axis, must be list with two elements</font></i>
    <i><font color=#76a396>#  -yrange - provides minimum and maximum values of y-axis, must be list with two elements</font></i>
    <i><font color=#76a396>#  -background - enables running gnuplot in background, requires -nodelete or -inline switch</font></i>
    <i><font color=#76a396>#  -inline - provides data directly in command string, without creating temporary file</font></i>
    <i><font color=#76a396>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#76a396>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#76a396>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#76a396>#  -terminal - selects terminal, default 'x11' on Linux and 'windows' on Windows</font></i>
    <i><font color=#76a396>#  -grid - enables display of grid</font></i>
    <i><font color=#76a396>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#76a396>#  -output - command redirects output to the specified file or device</font></i>
    <i><font color=#76a396>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#76a396>#  -path - provides location of temporary file, default is the current location</font></i>
    <i><font color=#76a396>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#76a396>#    in the same order as data columns provided, must have the length equal to the number of y data colums</font></i>
    <i><font color=#76a396>#  -lstyles - set individual styles for each graph</font></i>
    <i><font color=#76a396>#    in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</font></i>
    <i><font color=#76a396>#  -columns - provides the y data to plot, the number of columns is not restricted and must be provided at the end</font></i>
    <i><font color=#76a396>#    of command after all switches</font></i>
    <i><font color=#76a396># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#76a396># Synopsis: x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string?</font></i>
    <i><font color=#76a396>#   ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? ?-lstyles list? ?-output string?</font></i>
    <i><font color=#76a396>#   -columns yList1 ?yList2 ...?</font></i>
    <i><font color=#76a396># ```</font></i>
    <i><font color=#76a396># Example:</font></i>
    <i><font color=#76a396># set x [list 0 1 2 3 4 5 6]</font></i>
    <i><font color=#76a396># set y1 [list 0 1 4 9 16 25 36]</font></i>
    <i><font color=#76a396># set y2 [list 0 1 8 27 64 125 216]</font></i>
    <i><font color=#76a396># gnuplotutil::plotXYN $x -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list  y1 y2]</font></i>
    <i><font color=#76a396># -columns $y1 $y2</font></i>
    <i><font color=#76a396># ```</font></i>
    <b><font color=#ffa500>set</font></b> arguments [argparse <font color=#b9b96e>-inline</font> <font color=#b9b96e>-pfirst</font> <font color=#b9b96e>-help</font> {Plots 2D graphs in Gnuplot with the common x-values} {
        {x <font color=#b9b96e>-help</font> {List of x-point for 2D graph}}
        {<font color=#b9b96e>-xlog</font> <font color=#b9b96e>-help</font> {Enables log scale of x axis}}
        {<font color=#b9b96e>-ylog</font> <font color=#b9b96e>-help</font> {Enables log scale of y axis}}
        {<font color=#b9b96e>-xrange</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides minimum and maximum values of x-axis, must be list with two elements}}
        {<font color=#b9b96e>-yrange</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides minimum and maximum values of y-axis, must be list with two elements}}
        {<font color=#b9b96e>-background</font> <font color=#b9b96e>-help</font> {Enables running gnuplot in background}}
        {<font color=#b9b96e>-inline</font> <font color=#b9b96e>-help</font> {Provides data directly in command string, without creating temporary file}}
        {<font color=#b9b96e>-nodelete</font> <font color=#b9b96e>-forbid</font> inline <font color=#b9b96e>-help</font> {Disables deleting of temporary file after end of plotting}}
        {<font color=#b9b96e>-xlabel</font>= <font color=#b9b96e>-help</font> {Provides x-axis label to display}}
        {<font color=#b9b96e>-ylabel</font>= <font color=#b9b96e>-help</font> {Provides y-axis label to display}}
        {<font color=#b9b96e>-optcmd</font>= <font color=#b9b96e>-help</font> {Provides optional string that may contain additional commands to gnuplot}}
        {<font color=#b9b96e>-terminal</font>= <font color=#b9b96e>-help</font> {Selects terminal, default 'x11' on Linux and 'windows' on Windows}}
        {<font color=#b9b96e>-size</font>= <font color=#b9b96e>-default</font> {800 600} <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Provides size of the window, must be list with two elements: width and height in pixels}}
        {<font color=#b9b96e>-grid</font> <font color=#b9b96e>-help</font> {Enables display of grid}}
        {<font color=#b9b96e>-darkmode</font> <font color=#b9b96e>-help</font> {Enables dark mode for graph}}
        {<font color=#b9b96e>-output</font>= <font color=#b9b96e>-help</font> {Command redirects output to the specified file or device}}
        {<font color=#b9b96e>-path</font>= <font color=#b9b96e>-default</font> {} <font color=#b9b96e>-help</font> {Provides location of temporary file}}
        {<font color=#b9b96e>-names</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums}}
        {<font color=#b9b96e>-lstyles</font>= <font color=#b9b96e>-type</font> list <font color=#b9b96e>-help</font> {Sets individual styles for each graph in the same order as data columns provided, must have the length 2*(number of x-y data pairs)}}
        {<font color=#b9b96e>-columns</font> <font color=#b9b96e>-catchall</font> <font color=#b9b96e>-help</font> {Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches}}
    }]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        AliasesKeysCheck <font color=#f1b479>$arguments</font> {nodelete inline}
    }
    initArgStr <font color=#f1b479>$arguments</font> xlog xscaleStr {{<b><font color=#ffa500>set</font></b> logscale x}}
    initArgStr <font color=#f1b479>$arguments</font> ylog yscaleStr {{<b><font color=#ffa500>set</font></b> logscale y}}
    initRangeStr <font color=#f1b479>$arguments</font> xrange xrangeStr
    initRangeStr <font color=#f1b479>$arguments</font> yrange yrangeStr
    initArgStr <font color=#f1b479>$arguments</font> grid gridStr {{<b><font color=#ffa500>set</font></b> grid}}
    initArgStr <font color=#f1b479>$arguments</font> output outputStr {<font color=#90ee90>&quot;set output '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments output<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> xlabel xlabelStr {<font color=#90ee90>&quot;set xlabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments xlabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> ylabel ylabelStr {<font color=#90ee90>&quot;set ylabel '<font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments ylabel<font color=#f1b479>]</font>'&quot;</font>}
    initArgStr <font color=#f1b479>$arguments</font> names columnNames {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> names]}
    initArgStr <font color=#f1b479>$arguments</font> lstyles lineStyles {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> lstyles]}
    initArgStr <font color=#f1b479>$arguments</font> optcmd optcmdStr {[<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> optcmd]}
    initTerminalStr <font color=#f1b479>$arguments</font> terminalStr
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> darkmode]} {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#ffa500>append</font></b> darkmodeStr <font color=#90ee90>&quot;\n&quot;</font> <font color=#f1b479>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> darkmodeStr <font color=#90ee90>&quot;set term <font color=#f1b479>$</font>terminalStr size <font color=#f1b479>[</font>join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments size<font color=#f1b479>]</font> ,<font color=#f1b479>]</font> noenhanced&quot;</font>
    }
    <b><font color=#ffa500>set</font></b> yColumnCount 0
    <b><font color=#ffa500>foreach</font></b> val [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$val</font>]!=[<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> x]]} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Number of points '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>val<font color=#f1b479>]</font>' of y-axis data (column <font color=#f1b479>$</font>yColumnCount) doesn't match the number of points '<font color=#f1b479>[</font>llength <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments x<font color=#f1b479>]]</font>' of x-axis data&quot;</font>
            <b><font color=#ffa500>incr</font></b> yColumnCount
        }
    }
    <i><font color=#76a396># fill output structure with values</font></i>
    <b><font color=#ffa500>set</font></b> numCol [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns]]
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> names])} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$columnNames</font>]!=[= {<font color=#f1b479>$numCol</font>}]} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Column names count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>columnNames<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>numCol' of data columns&quot;</font>
        } <b><font color=#ffa500>else</font></b> {
            <b><font color=#ffa500>foreach</font></b> columnName <font color=#f1b479>$columnNames</font> {
                <b><font color=#ffa500>lappend</font></b> processedNames <font color=#90ee90>&quot;\&quot;<font color=#f1b479>$</font>columnName\&quot;&quot;</font>
            }
            <b><font color=#ffa500>lappend</font></b> outList <font color=#90ee90>&quot;<font color=#f1b479>{</font> <font color=#f1b479>}</font> <font color=#f1b479>[</font>join <font color=#f1b479>$</font>processedNames<font color=#f1b479>]</font>&quot;</font>
            <b><font color=#ffa500>set</font></b> autoTitleStr {<b><font color=#ffa500>set</font></b> key autotitle columnheader}
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> autoTitleStr {}
    }
    <b><font color=#ffa500>if</font></b> {([<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> lstyles])} {
        <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>llength</font></b> <font color=#f1b479>$lineStyles</font>]!=<font color=#f1b479>$numCol</font>} {
            <b><font color=#fe6efe>return</font></b> <font color=#b9b96e>-code</font> error <font color=#90ee90>&quot;Lines styles count '<font color=#f1b479>[</font>llength <font color=#f1b479>$</font>lineStyles<font color=#f1b479>]</font>' is not the same as count '<font color=#f1b479>$</font>numCol' of data columns&quot;</font>
        }
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numCol</font>} {<b><font color=#ffa500>incr</font></b> i} {
            <b><font color=#ffa500>lappend</font></b> lineStyles {with lines}
        }
    }
    <b><font color=#ffa500>set</font></b> numRow [<b><font color=#ffa500>llength</font></b> [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> x]]
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 0} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numRow</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> row [@ [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> x] <font color=#f1b479>$i</font>]
        <b><font color=#ffa500>foreach</font></b> val [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> columns] {
            <b><font color=#ffa500>lappend</font></b> row [@ <font color=#f1b479>$val</font> <font color=#f1b479>$i</font>]
        }
        <b><font color=#ffa500>lappend</font></b> outList <font color=#f1b479>$row</font>
    }
    <i><font color=#76a396># save data to temporary file or use inline data block</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> inlineData <font color=#90ee90>&quot;\$data &lt;&lt; EOD\n<font color=#f1b479>[</font>::csv::joinlist <font color=#f1b479>$</font>outList &quot;</font> <font color=#90ee90>&quot;<font color=#f1b479>]</font>\nEOD\n&quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> counter 0
        <b><font color=#ffa500>while</font></b> {true} {
            <b><font color=#ffa500>set</font></b> filePath [<b><font color=#ffa500>file</font></b> join [<b><font color=#ffa500>dget</font></b> <font color=#f1b479>$arguments</font> path] gnuplotTemp<font color=#f1b479>${counter}</font>.csv]
            <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>file</font></b> exists <font color=#f1b479>$filePath</font>]} {
                <b><font color=#ffa500>incr</font></b> counter
            } <b><font color=#ffa500>else</font></b> {
                <b><font color=#ffa500>set</font></b> resFile [<b><font color=#ffa500>open</font></b> <font color=#f1b479>$filePath</font> w+]
                <b><font color=#fe6efe>break</font></b>
            }
        }
        <b><font color=#ffa500>puts</font></b> <font color=#f1b479>$resFile</font> [::csv::joinlist <font color=#f1b479>$outList</font> { }]
        <b><font color=#ffa500>close</font></b> <font color=#f1b479>$resFile</font>
    }
    <i><font color=#76a396># create command strings for gnuplot</font></i>
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;<font color=#f1b479>$</font>inlineData plot \$data using 1:2 <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles 0<font color=#f1b479>]</font> &quot;</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;plot '<font color=#f1b479>[</font>file join <font color=#f1b479>[</font>dget <font color=#f1b479>$</font>arguments path<font color=#f1b479>]</font> gnuplotTemp<font color=#f1b479>${</font>counter<font color=#f1b479>}</font>.csv<font color=#f1b479>]</font>' using 1:2 <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles 0<font color=#f1b479>]</font> &quot;</font>
    }
    <b><font color=#ffa500>for</font></b> {<b><font color=#ffa500>set</font></b> i 1} {<font color=#f1b479>$i</font>&lt;<font color=#f1b479>$numCol</font>} {<b><font color=#ffa500>incr</font></b> i} {
        <b><font color=#ffa500>set</font></b> commandStr <font color=#90ee90>&quot;<font color=#f1b479>${</font>commandStr<font color=#f1b479>}</font>, '' using 1:<font color=#f1b479>[</font>= <font color=#f1b479>{$</font>i+2<font color=#f1b479>}]</font> <font color=#f1b479>[</font>@ <font color=#f1b479>$</font>lineStyles <font color=#f1b479>$</font>i<font color=#f1b479>]</font> &quot;</font>
    }
    <b><font color=#ffa500>set</font></b> commandList [<b><font color=#ffa500>list</font></b> {<b><font color=#ffa500>set</font></b> mouse} <font color=#f1b479>$outputStr</font> <font color=#f1b479>$darkmodeStr</font> <font color=#f1b479>$xrangeStr</font> <font color=#f1b479>$yrangeStr</font> <font color=#f1b479>$optcmdStr</font> <font color=#f1b479>$autoTitleStr</font> <font color=#f1b479>$xlabelStr</font> <font color=#f1b479>$ylabelStr</font> <font color=#f1b479>$xscaleStr</font> <font color=#f1b479>$yscaleStr</font> <font color=#f1b479>$gridStr</font> <font color=#f1b479>$commandStr</font> {pause mouse close}]
    <b><font color=#ffa500>set</font></b> commandStr [<b><font color=#ffa500>join</font></b> [<b><font color=#ffa500>lmap</font></b> elem <font color=#f1b479>$commandList</font> {= {<font color=#f1b479>$elem</font> eq {} ? [<b><font color=#fe6efe>continue</font></b>] : <font color=#f1b479>$elem</font>}}] <font color=#90ee90>&quot;\n&quot;</font>]
    <b><font color=#ffa500>if</font></b> {[<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> background]} {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#ffa500>set</font></b> status [<b><font color=#ffa500>catch</font></b> {<b><font color=#ffa500>exec</font></b> gnuplot &lt;&lt; <font color=#90ee90>&quot;\n<font color=#f1b479>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#ffa500>if</font></b> {![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> nodelete] && ![<b><font color=#ffa500>dexist</font></b> <font color=#f1b479>$arguments</font> inline]} {
        <b><font color=#ffa500>file</font></b> delete <font color=#f1b479>$filePath</font>
    }
    <b><font color=#ffa500>if</font></b> {<font color=#f1b479>$status</font>&gt;0} {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$errorStr</font>
    } <b><font color=#ffa500>else</font></b> {
        <b><font color=#fe6efe>return</font></b> <font color=#f1b479>$commandStr</font>
    }
}</pre></div>
</div></main><nav class='ruff-nav'><ul ><li class='ruff-toc1'><a style='padding-top:2px;' href='index.html'>Start page</a></li>
<li class='ruff-toc1'><a href='index-docindex.html' accesskey='i'>Index</a></li>
<hr>
<li class='ruff-toc1'><a class='ruff-highlight' href='index-gnuplotutil.html'>gnuplotutil</a></li>
<li class='ruff-toc1'><a href='index-mathutil.html'>mathutil</a></li>
<li class='ruff-toc1'><a href='index-measure.html'>measure</a></li>
<li class='ruff-toc1'><a href='index-rfutil.html'>rfutil</a></li>
<li class='ruff-toc1'><a href='index-touchstoneutil.html'>touchstoneutil</a></li>
<hr><li class='ruff-toc2'><a href='#::gnuplotutil-Commands'>Commands</a></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initArgStr'>initArgStr</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;initArgStr&lt;/span&gt; &lt;span class='ruff_arg'&gt;optDict optName varName value&lt;/span&gt;</pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initRangeStr'>initRangeStr</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;initRangeStr&lt;/span&gt; &lt;span class='ruff_arg'&gt;optDict optName varName&lt;/span&gt;</pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initTerminalStr'>initTerminalStr</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;initTerminalStr&lt;/span&gt; &lt;span class='ruff_arg'&gt;optDict varName&lt;/span&gt;</pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::multiplotXNYN'>multiplotXNYN</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;multiplotXNYN&lt;/span&gt; &lt;span class='ruff_arg'&gt;layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list? <font color=#b9b96e>-columns</font> plotList1 ?plotList2 ...?&lt;/span&gt;</pre>Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotHist'>plotHist</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotHist&lt;/span&gt; &lt;span class='ruff_arg'&gt;x <font color=#b9b96e>-style</font> ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? <font color=#b9b96e>-columns</font> xList1 ?xList2 ...?&lt;/span&gt;</pre>Plots 2D histograms in Gnuplot with the common x-values.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXNYN'>plotXNYN</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotXNYN&lt;/span&gt; &lt;span class='ruff_arg'&gt;?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? ?-lstyles list? ?-output string? <font color=#b9b96e>-columns</font> xList1 yList1 ?xList2 yList2 ...?&lt;/span&gt;</pre>Plots 2D graphs in Gnuplot with individual x-values.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXNYNMp'>plotXNYNMp</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotXNYNMp&lt;/span&gt; &lt;span class='ruff_arg'&gt;?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list? <font color=#b9b96e>-columns</font> xList1 yList1 ?xList2 yList2 ...?&lt;/span&gt;</pre>Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXYN'>plotXYN</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotXYN&lt;/span&gt; &lt;span class='ruff_arg'&gt;x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? ?-lstyles list? ?-output string? <font color=#b9b96e>-columns</font> yList1 ?yList2 ...?&lt;/span&gt;</pre>Plots 2D graphs in Gnuplot with the common x-values.
</span></li></ul></nav><footer class='ruff-layout-footer ruff-ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div><div>&copy; George Yashin</div></footer>
</div></body></html>
