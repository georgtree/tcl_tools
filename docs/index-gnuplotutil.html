<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>Collection of Tcl tools</title>
<link rel='stylesheet' type='text/css' href='assets/ruff-min.css' />
<script type='text/javascript' src='assets/ruff-min.js'></script>
</head>
<body>
<div class='ruff-layout'>
<header class='ruff-layout-header ruff-hd'>
<a style='text-decoration:none;' href='index.html'>Collection of Tcl tools (v0.1)</a>


            <div id="ruffButtonBar">
            <button id="ruffNavMove" onclick="ruffMoveNavPane()"></button>
            <button id="ruffToggleTheme" onclick="ruffNextTheme()"></button>
            </div>
        </header><main class='ruff-layout-main ruff-bd'><h1 class='ruff'><a name='::gnuplotutil'></a>::gnuplotutil<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<h2 class='ruff'><a name='::gnuplotutil-Commands'></a>Commands<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffproc'><a name='::gnuplotutil::initArgStr'>initArgStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initArgStr</span> <span class='ruff_arg'>optDict optName varName value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>optName</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
<tr><td><code>value</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initArgStr' href="javascript:toggleSource('gnuplotutil_initArgStr')">Show source</a></p>
<div id='gnuplotutil_initArgStr' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::initArgStr {optDict optName varName value} {

    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$optDict</font> <font color=#4A181B>$optName</font>]} {
        <b><font color=#923B23>uplevel</font></b> set <font color=#4A181B>$varName</font> <font color=#4A181B>$value</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>uplevel</font></b> set <font color=#4A181B>$varName</font> {<font color=#035103>&quot;&quot;</font>}
    }
    <b><font color=#ca14ca>return</font></b>
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::initTerminalStr'>initTerminalStr</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>initTerminalStr</span> <span class='ruff_arg'>optDict varName</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>optDict</code></td><td>Not documented.</td></tr>
<tr><td><code>varName</code></td><td>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_initTerminalStr' href="javascript:toggleSource('gnuplotutil_initTerminalStr')">Show source</a></p>
<div id='gnuplotutil_initTerminalStr' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::initTerminalStr {optDict varName} {

    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$optDict</font> terminal]} {
        <b><font color=#923B23>uplevel</font></b> set <font color=#4A181B>$varName</font> [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$optDict</font> terminal]
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>global</font></b> tcl_platform
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#463e11>-nocase</font> *linux* <font color=#4A181B>$tcl_platform(os)</font>]} {
            <b><font color=#923B23>uplevel</font></b> set <font color=#4A181B>$varName</font> x11
        } <b><font color=#923B23>elseif</font></b> {[<b><font color=#923B23>string</font></b> match <font color=#463e11>-nocase</font> <font color=#035103>&quot;*windows nt*&quot;</font> <font color=#4A181B>$tcl_platform(os)</font>]} {
            <b><font color=#923B23>uplevel</font></b> set <font color=#4A181B>$varName</font> windows
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>uplevel</font></b> set <font color=#4A181B>$varName</font> qt
        }
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::multiplotXNYN'>multiplotXNYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>multiplotXNYN</span> <span class='ruff_arg'>layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list? -columns plotList1 ?plotList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>layout</code></td><td>List of layout configurations values, for example, {2 2}</td></tr>
<tr><td><code><font color=#463e11>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code><font color=#463e11>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#463e11>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#463e11>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#463e11>-plots</font></code></td><td>Provides the list of individual plots, the number of plots is not restricted and must be provided at the end of command after all switches, the inputs syntax is the same as in <a href="index-gnuplotutil.html#::gnuplotutil::plotXNYNMp" title="plotXNYNMp" class='ruff_cmd'>plotXNYNMp</a></td></tr>
<tr><td><code><font color=#463e11>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#463e11>-terminal</font></code></td><td>Provides terminal, default 'x11' on linux and 'windows' on windows.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#923B23>set</font></b> x1 [<b><font color=#923B23>list</font></b> 1 2 3 4 5 6]
<b><font color=#923B23>set</font></b> y1 [<b><font color=#923B23>list</font></b> 1 4 9 16 25 36]
<b><font color=#923B23>set</font></b> x2 [<b><font color=#923B23>list</font></b> 6 5 4 3 2 1]
<b><font color=#923B23>set</font></b> y2 [<b><font color=#923B23>list</font></b> 36 25 16 9 4 1]
<b><font color=#923B23>set</font></b> x3 [<b><font color=#923B23>list</font></b> 7 8 9 10]
<b><font color=#923B23>set</font></b> y3 [<b><font color=#923B23>list</font></b> 49 64 81 100]
<b><font color=#923B23>set</font></b> plot1 [<b><font color=#923B23>list</font></b> <font color=#463e11>-xlog</font> <font color=#463e11>-ylog</font> <font color=#463e11>-xlabel</font> <font color=#035103>&quot;x label&quot;</font> <font color=#463e11>-ylabel</font> <font color=#035103>&quot;y label&quot;</font> <font color=#463e11>-grid</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b> name1 name2 name3]
<font color=#463e11>-columns</font> <font color=#4A181B>$x1</font> <font color=#4A181B>$y1</font> <font color=#4A181B>$x2</font> <font color=#4A181B>$y2</font> <font color=#4A181B>$x3</font> <font color=#4A181B>$y3</font>]
<b><font color=#923B23>set</font></b> plot2 [<b><font color=#923B23>list</font></b> <font color=#463e11>-ylabel</font> <font color=#035103>&quot;y label&quot;</font> <font color=#463e11>-grid</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b> name1 name2] <font color=#463e11>-columns</font> <font color=#4A181B>$x1</font> <font color=#4A181B>$y1</font> <font color=#4A181B>$x2</font> <font color=#4A181B>$y2</font> ]
<b><font color=#923B23>set</font></b> plot3 [<b><font color=#923B23>list</font></b> <font color=#463e11>-xlabel</font> <font color=#035103>&quot;x label&quot;</font> <font color=#463e11>-ylabel</font> <font color=#035103>&quot;y label&quot;</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b> name3] <font color=#463e11>-columns</font> <font color=#4A181B>$x3</font> <font color=#4A181B>$y3</font> ]
<b><font color=#923B23>set</font></b> plot4 [<b><font color=#923B23>list</font></b> <font color=#463e11>-grid</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b> name2] <font color=#463e11>-columns</font> <font color=#4A181B>$x2</font> <font color=#4A181B>$y2</font> ]
gnuplotutil::multiplotXNYN {2 2} <font color=#463e11>-plots</font> <font color=#4A181B>$plot1</font> <font color=#4A181B>$plot2</font> <font color=#4A181B>$plot3</font> <font color=#4A181B>$plot4</font>
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_multiplotXNYN' href="javascript:toggleSource('gnuplotutil_multiplotXNYN')">Show source</a></p>
<div id='gnuplotutil_multiplotXNYN' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::multiplotXNYN {layout args} {

    <i><font color=#4b5d50># Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.</font></i>
    <i><font color=#4b5d50>#  layout - list of layout configurations values, for example, {2 2}</font></i>
    <i><font color=#4b5d50>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#4b5d50>#  -background - enables running gnuplot in background, requires -nodelete switch</font></i>
    <i><font color=#4b5d50>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#4b5d50>#  -terminal - provides terminal, default 'x11' on linux and 'windows' on windows</font></i>
    <i><font color=#4b5d50>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#4b5d50>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#4b5d50>#  -plots - provides the list of individual plots, the number of plots is not restricted and must</font></i>
    <i><font color=#4b5d50>#    be provided at the end of command after all switches, the inputs syntax is the same as in</font></i>
    <i><font color=#4b5d50>#    [::gnuplotutil::plotXNYNMp]</font></i>
    <i><font color=#4b5d50># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#4b5d50># Synopsis: layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list?</font></i>
    <i><font color=#4b5d50>#   -columns plotList1 ?plotList2 ...?</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <i><font color=#4b5d50># Example:</font></i>
    <i><font color=#4b5d50># set x1 [list 1 2 3 4 5 6]</font></i>
    <i><font color=#4b5d50># set y1 [list 1 4 9 16 25 36]</font></i>
    <i><font color=#4b5d50># set x2 [list 6 5 4 3 2 1]</font></i>
    <i><font color=#4b5d50># set y2 [list 36 25 16 9 4 1]</font></i>
    <i><font color=#4b5d50># set x3 [list 7 8 9 10]</font></i>
    <i><font color=#4b5d50># set y3 [list 49 64 81 100]</font></i>
    <i><font color=#4b5d50># set plot1 [list -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list name1 name2 name3]</font></i>
    <i><font color=#4b5d50># -columns $x1 $y1 $x2 $y2 $x3 $y3]</font></i>
    <i><font color=#4b5d50># set plot2 [list -ylabel &quot;y label&quot; -grid -names [list name1 name2] -columns $x1 $y1 $x2 $y2 ]</font></i>
    <i><font color=#4b5d50># set plot3 [list -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list name3] -columns $x3 $y3 ]</font></i>
    <i><font color=#4b5d50># set plot4 [list -grid -names [list name2] -columns $x2 $y2 ]</font></i>
    <i><font color=#4b5d50># gnuplotutil::multiplotXNYN {2 2} -plots $plot1 $plot2 $plot3 $plot4</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <b><font color=#923B23>set</font></b> arguments [argparse <font color=#463e11>-inline</font> {
        <font color=#463e11>-nodelete</font>
        {<font color=#463e11>-background</font> <font color=#463e11>-require</font> {nodelete}}
        <font color=#463e11>-optcmd</font>=
        <font color=#463e11>-terminal</font>=
        {<font color=#463e11>-size</font>= <font color=#463e11>-default</font> {800 600}}
        <font color=#463e11>-darkmode</font>
        {<font color=#463e11>-plots</font> <font color=#463e11>-catchall</font>}
    }]
    initArgStr <font color=#4A181B>$arguments</font> optcmd optcmdStr {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> optcmd]}
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$layout</font>]&gt;2} {
        <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Length of layout arguments is more than 2&quot;</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> layoutStr <font color=#035103>&quot;set multiplot layout <font color=#4A181B>[</font>@ <font color=#4A181B>$</font>layout 0<font color=#4A181B>]</font>,<font color=#4A181B>[</font>@ <font color=#4A181B>$</font>layout 1<font color=#4A181B>]</font>&quot;</font>
    }
    initTerminalStr <font color=#4A181B>$arguments</font> terminalStr
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> darkmode]} {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#923B23>append</font></b> darkmodeStr <font color=#035103>&quot;\n&quot;</font> <font color=#4A181B>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced&quot;</font>
    }
    <b><font color=#923B23>foreach</font></b> plot [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> plots] {
        <b><font color=#923B23>set</font></b> plotResults [gnuplotutil::plotXNYNMp {<b><font color=#923B23>*</font></b>}<font color=#4A181B>$plot</font>]
        <b><font color=#923B23>lappend</font></b> cmdStrings [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$plotResults</font> cmdString]
        <b><font color=#923B23>lappend</font></b> fileNames [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$plotResults</font> file]
    }
    <b><font color=#923B23>set</font></b> commandList [<b><font color=#923B23>list</font></b> <font color=#4A181B>$optcmdStr</font> <font color=#4A181B>$darkmodeStr</font> <font color=#4A181B>$layoutStr</font> [<b><font color=#923B23>join</font></b> <font color=#4A181B>$cmdStrings</font> \n] <font color=#035103>&quot;unset multiplot&quot;</font> <font color=#035103>&quot;pause mouse close&quot;</font>]
    <b><font color=#923B23>set</font></b> commandStr [<b><font color=#923B23>join</font></b> [<b><font color=#923B23>lmap</font></b> elem <font color=#4A181B>$commandList</font> {= {<font color=#4A181B>$elem</font>==&quot;&quot; ? [<b><font color=#ca14ca>continue</font></b>] : <font color=#4A181B>$elem</font>}}] &quot;\n&quot;]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> background]} {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> nodelete]} {
        <b><font color=#923B23>foreach</font></b> fileName <font color=#4A181B>$fileNames</font> {
            <b><font color=#923B23>file</font></b> delete <font color=#4A181B>$fileName</font>
        }
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$status</font>&gt;0} {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$errorStr</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$commandStr</font>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotHist'>plotHist</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D histograms in Gnuplot with the common x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotHist</span> <span class='ruff_arg'>x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>x</code></td><td>List of strings that contains x-point for 2D histogram.</td></tr>
<tr><td><code><font color=#463e11>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code><font color=#463e11>-border</font></code></td><td>Provides border of columns with particular style, -fill argument is required.</td></tr>
<tr><td><code><font color=#463e11>-boxwidth</font></code></td><td>Provides width of columns, must be in range (0,1]</td></tr>
<tr><td><code><font color=#463e11>-columns</font></code></td><td>Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#463e11>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#463e11>-density</font></code></td><td>Provides density of solid filling, -fill argument is required.</td></tr>
<tr><td><code><font color=#463e11>-fill</font></code></td><td>Provides fill of columns, must be empty or solid.</td></tr>
<tr><td><code><font color=#463e11>-gap</font></code></td><td>Provides gap between columns in clustered style, -style argument is required.</td></tr>
<tr><td><code><font color=#463e11>-grid</font></code></td><td>Enables grid of histogram.</td></tr>
<tr><td><code><font color=#463e11>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to number of y data colums.</td></tr>
<tr><td><code><font color=#463e11>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#463e11>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#463e11>-path</font></code></td><td>Provides location of temporary file, default is current location.</td></tr>
<tr><td><code><font color=#463e11>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#463e11>-style</font></code></td><td>Provides style of diagram, must be clustered, rowstacked or columnstacked.</td></tr>
<tr><td><code><font color=#463e11>-terminal</font></code></td><td>Provides terminal, default 'x11' on linux and 'windows' on windows.</td></tr>
<tr><td><code><font color=#463e11>-transparent</font></code></td><td>Enables transparency to filling of columns, -fill argument is required.</td></tr>
<tr><td><code><font color=#463e11>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#923B23>set</font></b> x1 [<b><font color=#923B23>list</font></b> 0 1 2 3 4 5 6]
<b><font color=#923B23>set</font></b> y1 [<b><font color=#923B23>list</font></b> 0 1 4 9 16 25 36]
<b><font color=#923B23>set</font></b> y2 [<b><font color=#923B23>list</font></b> 0 1 8 27 64 125 216]
gnuplotutil::plotHist <font color=#4A181B>$x1</font> <font color=#463e11>-style</font> clustered <font color=#463e11>-fill</font> solid <font color=#463e11>-xlabel</font> <font color=#035103>&quot;x label&quot;</font> <font color=#463e11>-ylabel</font> <font color=#035103>&quot;y label&quot;</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b> y1 y2]
<font color=#463e11>-columns</font> <font color=#4A181B>$y1</font> <font color=#4A181B>$y2</font>]
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotHist' href="javascript:toggleSource('gnuplotutil_plotHist')">Show source</a></p>
<div id='gnuplotutil_plotHist' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::plotHist {x args} {

    <i><font color=#4b5d50># Plots 2D histograms in Gnuplot with the common x-values.</font></i>
    <i><font color=#4b5d50>#  x - List of strings that contains x-point for 2D histogram</font></i>
    <i><font color=#4b5d50>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#4b5d50>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -style - provides style of diagram, must be clustered, rowstacked or columnstacked</font></i>
    <i><font color=#4b5d50>#  -gap - provides gap between columns in clustered style, -style argument is required</font></i>
    <i><font color=#4b5d50>#  -boxwidth - provides width of columns, must be in range (0,1]</font></i>
    <i><font color=#4b5d50>#  -fill - provides fill of columns, must be empty or solid</font></i>
    <i><font color=#4b5d50>#  -grid - enables grid of histogram</font></i>
    <i><font color=#4b5d50>#  -background - enables running gnuplot in background, requires -nodelete switch</font></i>
    <i><font color=#4b5d50>#  -terminal - provides terminal, default 'x11' on linux and 'windows' on windows</font></i>
    <i><font color=#4b5d50>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#4b5d50>#  -path - provides location of temporary file, default is current location</font></i>
    <i><font color=#4b5d50>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#4b5d50>#  -transparent - enables transparency to filling of columns, -fill argument is required</font></i>
    <i><font color=#4b5d50>#  -density - provides density of solid filling, -fill argument is required</font></i>
    <i><font color=#4b5d50>#  -border - provides border of columns with particular style, -fill argument is required</font></i>
    <i><font color=#4b5d50>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#4b5d50>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#4b5d50>#    in the same order as data columns provided, must have the length equal to number of y data colums</font></i>
    <i><font color=#4b5d50>#  -columns - provides the y data to plot, the number of columns is not restricted and must be</font></i>
    <i><font color=#4b5d50>#    provided at the end of command after all switches</font></i>
    <i><font color=#4b5d50># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#4b5d50># Synopsis: x -style ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value?</font></i>
    <i><font color=#4b5d50>#   ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode?</font></i>
    <i><font color=#4b5d50>#   ?-size list? ?-path string? ?-names list? -columns xList1 ?xList2 ...?</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <i><font color=#4b5d50># Example:</font></i>
    <i><font color=#4b5d50># set x1 [list 0 1 2 3 4 5 6]</font></i>
    <i><font color=#4b5d50># set y1 [list 0 1 4 9 16 25 36]</font></i>
    <i><font color=#4b5d50># set y2 [list 0 1 8 27 64 125 216]</font></i>
    <i><font color=#4b5d50># gnuplotutil::plotHist $x1 -style clustered -fill solid -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -names [list y1 y2]</font></i>
    <i><font color=#4b5d50># -columns $y1 $y2]</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <b><font color=#923B23>set</font></b> arguments [argparse <font color=#463e11>-inline</font> {
        <font color=#463e11>-nodelete</font>
        <font color=#463e11>-xlabel</font>=
        <font color=#463e11>-ylabel</font>=
        {<font color=#463e11>-style</font>= <font color=#463e11>-enum</font> {clustered rowstacked columnstacked} <font color=#463e11>-required</font>}
        {<font color=#463e11>-gap</font>= <font color=#463e11>-require</font> {style}}
        <font color=#463e11>-optcmd</font>=
        <font color=#463e11>-grid</font>
        {<font color=#463e11>-background</font> <font color=#463e11>-require</font> {nodelete}}
        <font color=#463e11>-terminal</font>=
        {<font color=#463e11>-size</font>= <font color=#463e11>-default</font> {800 600}}
        {<font color=#463e11>-path</font>= <font color=#463e11>-default</font> <font color=#035103>&quot;.&quot;</font>}
        <font color=#463e11>-darkmode</font>
        <font color=#463e11>-names</font>=
        <font color=#463e11>-boxwidth</font>=
        {<font color=#463e11>-fill</font>= <font color=#463e11>-enum</font> {empty solid}}
        {<font color=#463e11>-density</font>= <font color=#463e11>-require</font> {fill}}
        {<font color=#463e11>-transparent</font> <font color=#463e11>-require</font> {fill}}
        {<font color=#463e11>-border</font>= <font color=#463e11>-require</font> {fill}}
        {<font color=#463e11>-columns</font> <font color=#463e11>-catchall</font>}
    }]
    initArgStr <font color=#4A181B>$arguments</font> xlog xscaleStr {<font color=#035103>&quot;set logscale x&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylog yscaleStr {<font color=#035103>&quot;set logscale y&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> grid gridStr {<font color=#035103>&quot;set grid&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> xlabel xlabelStr {<font color=#035103>&quot;set xlabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments xlabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylabel ylabelStr {<font color=#035103>&quot;set ylabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments ylabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> names columnNames {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> names]}
    initArgStr <font color=#4A181B>$arguments</font> optcmd optcmdStr {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> optcmd]}
    initArgStr <font color=#4A181B>$arguments</font> boxwidth boxwidthStr {<font color=#035103>&quot;set boxwidth '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments boxwidth<font color=#4A181B>]</font>'&quot;</font>}
    initTerminalStr <font color=#4A181B>$arguments</font> terminalStr
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> darkmode]} {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#923B23>append</font></b> darkmodeStr <font color=#035103>&quot;\n&quot;</font> <font color=#4A181B>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced&quot;</font>
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> fill]} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> transparent]} {
            <b><font color=#923B23>set</font></b> fillStr <font color=#035103>&quot;set style fill transparent <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments fill<font color=#4A181B>]</font>&quot;</font>
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>set</font></b> fillStr <font color=#035103>&quot;set style fill <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments fill<font color=#4A181B>]</font>&quot;</font>
        }
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> density]} {
            <b><font color=#923B23>append</font></b> fillStr <font color=#035103>&quot; <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments density<font color=#4A181B>]</font>&quot;</font>
        }
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> border]} {
            <b><font color=#923B23>append</font></b> fillStr <font color=#035103>&quot; border lt <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments border<font color=#4A181B>]</font>&quot;</font>
        }
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> fillStr {}
    }
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> style]} {
        <b><font color=#923B23>if</font></b> {([<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> gap]) && ([<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> style] in {clustered})} {
            <b><font color=#923B23>set</font></b> styleStr <font color=#035103>&quot;set style histogram <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments style<font color=#4A181B>]</font> gap <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments gap<font color=#4A181B>]</font>&quot;</font>
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>set</font></b> styleStr <font color=#035103>&quot;set style histogram <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments style<font color=#4A181B>]</font>&quot;</font>
        }
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> styleStr {}
    }
    <b><font color=#923B23>set</font></b> yColumnCount 0
    <b><font color=#923B23>foreach</font></b> val [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$val</font>] != [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$x</font>]} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Number of points of y-axis data (column <font color=#4A181B>$</font>yColumnCount) doesn't match the number of points of x-axis data&quot;</font>
            <b><font color=#923B23>incr</font></b> yColumnCount
        }
    }
    <i><font color=#4b5d50># fill output structure with values</font></i>
    <b><font color=#923B23>set</font></b> numCol [<b><font color=#923B23>llength</font></b> [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns]]
    <b><font color=#923B23>if</font></b> {([<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> names])} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$columnNames</font>]!=[= {<font color=#4A181B>$numCol</font>}]} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Column names count is not the same as count of data columns&quot;</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;&quot;</font>
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>lappend</font></b> outList <font color=#035103>&quot;<font color=#4A181B>{</font> <font color=#4A181B>}</font> <font color=#4A181B>$</font>columnNames&quot;</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;set key autotitle columnheader&quot;</font>
        }
    }
    <b><font color=#923B23>set</font></b> numRow [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$x</font>]
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$numRow</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> row [@ <font color=#4A181B>$x</font> <font color=#4A181B>$i</font>]
        <b><font color=#923B23>foreach</font></b> val [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] {
            <b><font color=#923B23>lappend</font></b> row [@ <font color=#4A181B>$val</font> <font color=#4A181B>$i</font>]
        }
        <b><font color=#923B23>lappend</font></b> outList <font color=#4A181B>$row</font>
    }
    <i><font color=#4b5d50># save data to temporary file</font></i>
    <b><font color=#923B23>set</font></b> counter 0
    <b><font color=#923B23>while</font></b> {true} {
        <b><font color=#923B23>set</font></b> filePath [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> path] gnuplotTemp<font color=#4A181B>${counter}</font>.csv]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$filePath</font>]} {
           <b><font color=#923B23>incr</font></b> counter
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>set</font></b> resFile [<b><font color=#923B23>open</font></b> <font color=#4A181B>$filePath</font> w+]
            <b><font color=#ca14ca>break</font></b>
        }
    }
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$resFile</font> [::csv::joinlist <font color=#4A181B>$outList</font> <font color=#035103>&quot; &quot;</font>]
    <b><font color=#923B23>close</font></b> <font color=#4A181B>$resFile</font>
    <i><font color=#4b5d50># create command strings for gnuplot</font></i>
    <b><font color=#923B23>set</font></b> commandStr <font color=#035103>&quot;plot 'gnuplotTemp<font color=#4A181B>${</font>counter<font color=#4A181B>}</font>.csv' using 2:xtic(1)&quot;</font>
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$numCol</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> commandStr  <font color=#035103>&quot;<font color=#4A181B>${</font>commandStr<font color=#4A181B>}</font>, '' using <font color=#4A181B>[</font>= <font color=#4A181B>{$</font>i+2<font color=#4A181B>}]</font>&quot;</font>
    }
    <b><font color=#923B23>set</font></b> commandList [<b><font color=#923B23>list</font></b> <font color=#035103>&quot;set mouse&quot;</font> <font color=#4A181B>$darkmodeStr</font> <font color=#035103>&quot;set style data histogram&quot;</font> <font color=#4A181B>$styleStr</font> <font color=#4A181B>$fillStr</font> <font color=#4A181B>$optcmdStr</font> <font color=#4A181B>$gridStr</font> <font color=#4A181B>$autoTitleStr</font> <font color=#4A181B>$xlabelStr</font> <font color=#4A181B>$ylabelStr</font> <font color=#4A181B>$boxwidthStr</font> <font color=#4A181B>$commandStr</font> <font color=#035103>&quot;pause mouse close&quot;</font>]
    <b><font color=#923B23>set</font></b> commandStr [<b><font color=#923B23>join</font></b> [<b><font color=#923B23>lmap</font></b> elem <font color=#4A181B>$commandList</font> {= {<font color=#4A181B>$elem</font>==&quot;&quot; ? [<b><font color=#ca14ca>continue</font></b>] : <font color=#4A181B>$elem</font>}}] &quot;\n&quot;]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> background]} {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> nodelete]} {
        <b><font color=#923B23>file</font></b> delete <font color=#4A181B>$filePath</font>
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$status</font>&gt;0} {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$errorStr</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$commandStr</font>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXNYN'>plotXNYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with individual x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXNYN</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#463e11>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code><font color=#463e11>-columns</font></code></td><td>Provides the x and y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#463e11>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#463e11>-grid</font></code></td><td>Enables display of grid.</td></tr>
<tr><td><code><font color=#463e11>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code><font color=#463e11>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#463e11>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#463e11>-path</font></code></td><td>Provides location of temporary file, default is the current location.</td></tr>
<tr><td><code><font color=#463e11>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#463e11>-terminal</font></code></td><td>Selects terminal, default 'x11' on Linux and 'windows' on Windows.</td></tr>
<tr><td><code><font color=#463e11>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-xlog</font></code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code><font color=#463e11>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-ylog</font></code></td><td>Enables log scale of y axis.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#923B23>set</font></b> x1 [<b><font color=#923B23>list</font></b> 0 1 2 3 4 5 6]
<b><font color=#923B23>set</font></b> y1 [<b><font color=#923B23>list</font></b> 0 1 4 9 16 25 36]
<b><font color=#923B23>set</font></b> x2 [<b><font color=#923B23>list</font></b> 0 1 2 3 4 5 6 7]
<b><font color=#923B23>set</font></b> y2 [<b><font color=#923B23>list</font></b> 0 1 8 27 64 125 216 350]
gnuplotutil::plotXNYN <font color=#463e11>-xlog</font> <font color=#463e11>-ylog</font> <font color=#463e11>-xlabel</font> <font color=#035103>&quot;x label&quot;</font> <font color=#463e11>-ylabel</font> <font color=#035103>&quot;y label&quot;</font> <font color=#463e11>-darkmode</font> <font color=#463e11>-grid</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b> y1 y2]
<font color=#463e11>-columns</font> <font color=#4A181B>$x1</font> <font color=#4A181B>$y1</font> <font color=#4A181B>$x2</font> <font color=#4A181B>$y2</font>
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXNYN' href="javascript:toggleSource('gnuplotutil_plotXNYN')">Show source</a></p>
<div id='gnuplotutil_plotXNYN' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::plotXNYN {args} {

    <i><font color=#4b5d50># Plots 2D graphs in Gnuplot with individual x-values.</font></i>
    <i><font color=#4b5d50>#  -xlog - enables log scale of x axis</font></i>
    <i><font color=#4b5d50>#  -ylog - enables log scale of y axis</font></i>
    <i><font color=#4b5d50>#  -background - enables running gnuplot in background, requires -nodelete switch</font></i>
    <i><font color=#4b5d50>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#4b5d50>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#4b5d50>#  -terminal - selects terminal, default 'x11' on Linux and 'windows' on Windows</font></i>
    <i><font color=#4b5d50>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#4b5d50>#  -grid - enables display of grid</font></i>
    <i><font color=#4b5d50>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#4b5d50>#  -path - provides location of temporary file, default is the current location</font></i>
    <i><font color=#4b5d50>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#4b5d50>#    in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</font></i>
    <i><font color=#4b5d50>#  -columns -  provides the x and y data to plot, the number of columns is not restricted and must</font></i>
    <i><font color=#4b5d50>#    be provided at the end of command after all switches</font></i>
    <i><font color=#4b5d50># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#4b5d50># Synopsis: ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string?</font></i>
    <i><font color=#4b5d50>#   ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns xList1 yList1</font></i>
    <i><font color=#4b5d50>#   ?xList2 yList2 ...?</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <i><font color=#4b5d50># Example:</font></i>
    <i><font color=#4b5d50># set x1 [list 0 1 2 3 4 5 6]</font></i>
    <i><font color=#4b5d50># set y1 [list 0 1 4 9 16 25 36]</font></i>
    <i><font color=#4b5d50># set x2 [list 0 1 2 3 4 5 6 7]</font></i>
    <i><font color=#4b5d50># set y2 [list 0 1 8 27 64 125 216 350]</font></i>
    <i><font color=#4b5d50># gnuplotutil::plotXNYN -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -darkmode -grid -names [list y1 y2]</font></i>
    <i><font color=#4b5d50># -columns $x1 $y1 $x2 $y2</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <b><font color=#923B23>set</font></b> arguments [argparse <font color=#463e11>-inline</font> {
        <font color=#463e11>-xlog</font>
        <font color=#463e11>-ylog</font>
        {<font color=#463e11>-background</font> <font color=#463e11>-require</font> {nodelete}}
        <font color=#463e11>-nodelete</font>
        <font color=#463e11>-xlabel</font>=
        <font color=#463e11>-ylabel</font>=
        <font color=#463e11>-optcmd</font>=
        <font color=#463e11>-terminal</font>=
        {<font color=#463e11>-size</font>= <font color=#463e11>-default</font> {800 600}}
        <font color=#463e11>-grid</font>
        <font color=#463e11>-darkmode</font>
        {<font color=#463e11>-path</font>= <font color=#463e11>-default</font> <font color=#035103>&quot;&quot;</font>}
        <font color=#463e11>-names</font>=
        {<font color=#463e11>-columns</font> <font color=#463e11>-catchall</font>}
    }]
    initArgStr <font color=#4A181B>$arguments</font> xlog xscaleStr {<font color=#035103>&quot;set logscale x&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylog yscaleStr {<font color=#035103>&quot;set logscale y&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> grid gridStr {<font color=#035103>&quot;set grid&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> xlabel xlabelStr {<font color=#035103>&quot;set xlabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments xlabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylabel ylabelStr {<font color=#035103>&quot;set ylabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments ylabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> names columnNames {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> names]}
    initArgStr <font color=#4A181B>$arguments</font> optcmd optcmdStr {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> optcmd]}
    initTerminalStr <font color=#4A181B>$arguments</font> terminalStr
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> darkmode]} {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#923B23>append</font></b> darkmodeStr <font color=#035103>&quot;\n&quot;</font> <font color=#4A181B>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced&quot;</font>
    }
    <b><font color=#923B23>set</font></b> columnsNum [<b><font color=#923B23>llength</font></b> [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns]]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$columnsNum</font> % 2 != 0} {
        <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Number of data columns <font color=#4A181B>$</font>columnsNum is odd&quot;</font>
    }
    <b><font color=#923B23>set</font></b> dataNum [= {int(<font color=#4A181B>$columnsNum</font>/2)}]
    <b><font color=#923B23>set</font></b> yColumnCount 0
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> xLen [<b><font color=#923B23>llength</font></b> [@ [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] [= {int(<font color=#4A181B>$i</font>*2)}]]]
        <b><font color=#923B23>set</font></b> yLen [<b><font color=#923B23>llength</font></b> [@ [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] [= {int(<font color=#4A181B>$i</font>*2+1)}]]]
        <b><font color=#923B23>lappend</font></b> xLengths <font color=#4A181B>$xLen</font>
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$xLen</font> != <font color=#4A181B>$yLen</font>} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Number of points of y-axis data (column <font color=#4A181B>[</font>= <font color=#4A181B>{</font>1+<font color=#4A181B>$</font>yColumnCount<font color=#4A181B>}]</font>) doesn't match the number of pointsof x-axis data (column <font color=#4A181B>$</font>yColumnCount)&quot;</font>
        }
        <b><font color=#923B23>incr</font></b> yColumnCount
    }
    <i><font color=#4b5d50># fill output structure with values</font></i>
    <b><font color=#923B23>if</font></b> {([<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> names])} {
            <b><font color=#923B23>set</font></b> headerString {}
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$columnNames</font>]!=[= {<font color=#4A181B>$dataNum</font>}]} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Column names count is not the same as count of data columns&quot;</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;&quot;</font>
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;=<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> i} {
                <b><font color=#923B23>set</font></b> headerString <font color=#035103>&quot;<font color=#4A181B>${</font>headerString<font color=#4A181B>}</font> <font color=#4A181B>{</font> <font color=#4A181B>}</font> <font color=#4A181B>[</font>@ <font color=#4A181B>$</font>columnNames <font color=#4A181B>$</font>i<font color=#4A181B>]</font>&quot;</font>
            }
            <b><font color=#923B23>lappend</font></b> outList <font color=#4A181B>$headerString</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;set key autotitle columnheader&quot;</font>
        }
    }
    <b><font color=#923B23>set</font></b> numRow [tcl::mathfunc::max {<b><font color=#923B23>*</font></b>}<font color=#4A181B>$xLengths</font>]
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$numRow</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> row {}
        <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> j 0} {<font color=#4A181B>$j</font>&lt;<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> j} {
            <b><font color=#923B23>set</font></b> columns [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns]
            <b><font color=#923B23>set</font></b> xVal [@ [@ <font color=#4A181B>$columns</font> [= {int(<font color=#4A181B>$j</font>*2)}]] <font color=#4A181B>$i</font>]
            <b><font color=#923B23>set</font></b> yVal [@ [@ <font color=#4A181B>$columns</font> [= {int(<font color=#4A181B>$j</font>*2+1)}]] <font color=#4A181B>$i</font>]
            <b><font color=#923B23>if</font></b> {<font color=#4A181B>$xVal</font>=={}} {
                <b><font color=#923B23>lappend</font></b> row { } { }
            } <b><font color=#923B23>else</font></b> {
                <b><font color=#923B23>lappend</font></b> row <font color=#4A181B>$xVal</font> <font color=#4A181B>$yVal</font>
            }
        }
        <b><font color=#923B23>lappend</font></b> outList <font color=#4A181B>$row</font>
    }
    <i><font color=#4b5d50># save data to temporary file</font></i>
    <b><font color=#923B23>set</font></b> counter 0
    <b><font color=#923B23>while</font></b> {true} {
        <b><font color=#923B23>set</font></b> filePath [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> path] gnuplotTemp<font color=#4A181B>${counter}</font>.csv]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$filePath</font>]} {
           <b><font color=#923B23>incr</font></b> counter
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>set</font></b> resFile [<b><font color=#923B23>open</font></b> <font color=#4A181B>$filePath</font> w+]
            <b><font color=#ca14ca>break</font></b>
        }
    }
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$resFile</font> [::csv::joinlist <font color=#4A181B>$outList</font> <font color=#035103>&quot; &quot;</font>]
    <b><font color=#923B23>close</font></b> <font color=#4A181B>$resFile</font>
    <i><font color=#4b5d50># create command strings for gnuplot</font></i>
    <b><font color=#923B23>set</font></b> commandStr <font color=#035103>&quot;plot '<font color=#4A181B>[</font>file join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments path<font color=#4A181B>]</font> gnuplotTemp<font color=#4A181B>${</font>counter<font color=#4A181B>}</font>.csv<font color=#4A181B>]</font>' using 1:2 with lines &quot;</font>
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> commandStr  <font color=#035103>&quot;<font color=#4A181B>${</font>commandStr<font color=#4A181B>}</font>, '' using <font color=#4A181B>[</font>= <font color=#4A181B>{$</font>i*2+1<font color=#4A181B>}]</font>:<font color=#4A181B>[</font>= <font color=#4A181B>{$</font>i*2+2<font color=#4A181B>}]</font> with lines &quot;</font>
    }
    <b><font color=#923B23>set</font></b> commandList [<b><font color=#923B23>list</font></b> <font color=#035103>&quot;set mouse&quot;</font> <font color=#4A181B>$darkmodeStr</font> <font color=#4A181B>$optcmdStr</font> <font color=#4A181B>$autoTitleStr</font> <font color=#4A181B>$xlabelStr</font> <font color=#4A181B>$ylabelStr</font> <font color=#4A181B>$xscaleStr</font> <font color=#4A181B>$yscaleStr</font> <font color=#4A181B>$gridStr</font> <font color=#4A181B>$commandStr</font> <font color=#035103>&quot;pause mouse close&quot;</font>]
    <b><font color=#923B23>set</font></b> commandStr [<b><font color=#923B23>join</font></b> [<b><font color=#923B23>lmap</font></b> elem <font color=#4A181B>$commandList</font> {= {<font color=#4A181B>$elem</font>==&quot;&quot; ? [<b><font color=#ca14ca>continue</font></b>] : <font color=#4A181B>$elem</font>}}] &quot;\n&quot;]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> background]} {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> nodelete]} {
        <b><font color=#923B23>file</font></b> delete <font color=#4A181B>$filePath</font>
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$status</font>&gt;0} {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$errorStr</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$commandStr</font>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXNYNMp'>plotXNYNMp</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXNYNMp</span> <span class='ruff_arg'>?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list? -columns xList1 yList1 ?xList2 yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code><font color=#463e11>-columns</font></code></td><td>Provides the x and y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#463e11>-grid</font></code></td><td>Enables display of grid.</td></tr>
<tr><td><code><font color=#463e11>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</td></tr>
<tr><td><code><font color=#463e11>-path</font></code></td><td>Provides location of temporary file, default is current location.</td></tr>
<tr><td><code><font color=#463e11>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-xlog</font></code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code><font color=#463e11>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-ylog</font></code></td><td>Enables log scale of y axis.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>list that contains command script and name of data file</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXNYNMp' href="javascript:toggleSource('gnuplotutil_plotXNYNMp')">Show source</a></p>
<div id='gnuplotutil_plotXNYNMp' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::plotXNYNMp {args} {

    <i><font color=#4b5d50># Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files</font></i>
    <i><font color=#4b5d50>#  for individual plots</font></i>
    <i><font color=#4b5d50>#  -xlog - enables log scale of x axis</font></i>
    <i><font color=#4b5d50>#  -ylog - enables log scale of y axis</font></i>
    <i><font color=#4b5d50>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -grid - enables display of grid</font></i>
    <i><font color=#4b5d50>#  -path - provides location of temporary file, default is current location</font></i>
    <i><font color=#4b5d50>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#4b5d50>#    in the same order as data columns provided, must have the length 2*(number of x-y data pairs)</font></i>
    <i><font color=#4b5d50>#  -columns -  provides the x and y data to plot, the number of columns is not restricted and must</font></i>
    <i><font color=#4b5d50>#    be provided at the end of command after all switches</font></i>
    <i><font color=#4b5d50># Returns: list that contains command script and name of data file</font></i>
    <i><font color=#4b5d50># Synopsis: ?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list?</font></i>
    <i><font color=#4b5d50>#   -columns xList1 yList1 ?xList2 yList2 ...?</font></i>
    <b><font color=#923B23>set</font></b> arguments [argparse <font color=#463e11>-inline</font> {
        <font color=#463e11>-xlog</font>
        <font color=#463e11>-ylog</font>
        <font color=#463e11>-xlabel</font>=
        <font color=#463e11>-ylabel</font>=
        <font color=#463e11>-grid</font>
        {<font color=#463e11>-path</font>= <font color=#463e11>-default</font> <font color=#035103>&quot;.&quot;</font>}
        <font color=#463e11>-names</font>=
        {<font color=#463e11>-columns</font> <font color=#463e11>-catchall</font>}
    }]
    initArgStr <font color=#4A181B>$arguments</font> xlog xscaleStr {<font color=#035103>&quot;set logscale x&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> xlog xscaleStrUnset {<font color=#035103>&quot;unset logscale x&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylog yscaleStr {<font color=#035103>&quot;set logscale y&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylog yscaleStrUnset {<font color=#035103>&quot;unset logscale y&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> grid gridStr {<font color=#035103>&quot;set grid&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> grid gridStrUnset {<font color=#035103>&quot;unset grid&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> names columnNames {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> names]}
    initArgStr <font color=#4A181B>$arguments</font> xlabel xlabelStr {<font color=#035103>&quot;set xlabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments xlabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> xlabel xlabelStrUnset {<font color=#035103>&quot;unset xlabel&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylabel ylabelStr {<font color=#035103>&quot;set ylabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments ylabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylabel ylabelStrUnset {<font color=#035103>&quot;unset ylabel&quot;</font>}
    <b><font color=#923B23>set</font></b> columnsNum [<b><font color=#923B23>llength</font></b> [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns]]
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$columnsNum</font> % 2 != 0} {
        <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Number of data columns <font color=#4A181B>$</font>columnsNum is odd&quot;</font>
    }
    <b><font color=#923B23>set</font></b> dataNum [= {int(<font color=#4A181B>$columnsNum</font>/2)}]
    <b><font color=#923B23>set</font></b> yColumnCount 0
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> xLen [<b><font color=#923B23>llength</font></b> [@ [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] [= {int(<font color=#4A181B>$i</font>*2)}]]]
        <b><font color=#923B23>set</font></b> yLen [<b><font color=#923B23>llength</font></b> [@ [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] [= {int(<font color=#4A181B>$i</font>*2+1)}]]]
        <b><font color=#923B23>lappend</font></b> xLengths <font color=#4A181B>$xLen</font>
        <b><font color=#923B23>if</font></b> {<font color=#4A181B>$xLen</font> != <font color=#4A181B>$yLen</font>} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Number of points of y-axis data (column <font color=#4A181B>[</font>= <font color=#4A181B>{</font>1+<font color=#4A181B>$</font>yColumnCount<font color=#4A181B>}]</font>) doesn't match the number of points of x-axis data (column <font color=#4A181B>$</font>yColumnCount)&quot;</font>
        }
        <b><font color=#923B23>incr</font></b> yColumnCount
    }
    <i><font color=#4b5d50># fill output structure with values</font></i>
    <b><font color=#923B23>if</font></b> {([<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> names])} {
            <b><font color=#923B23>set</font></b> headerString {}
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$columnNames</font>]!=[= {<font color=#4A181B>$dataNum</font>}]} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Column names count is not the same as count of data columns&quot;</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;&quot;</font>
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;=<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> i} {
                <b><font color=#923B23>set</font></b> headerString <font color=#035103>&quot;<font color=#4A181B>${</font>headerString<font color=#4A181B>}</font> <font color=#4A181B>{</font> <font color=#4A181B>}</font> <font color=#4A181B>[</font>@ <font color=#4A181B>$</font>columnNames <font color=#4A181B>$</font>i<font color=#4A181B>]</font>&quot;</font>
            }
            <b><font color=#923B23>lappend</font></b> outList <font color=#4A181B>$headerString</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;set key autotitle columnheader&quot;</font>
        }
    }
    <b><font color=#923B23>set</font></b> numRow [tcl::mathfunc::max {<b><font color=#923B23>*</font></b>}<font color=#4A181B>$xLengths</font>]
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$numRow</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> row {}
        <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> j 0} {<font color=#4A181B>$j</font>&lt;<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> j} {
            <b><font color=#923B23>set</font></b> columns [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns]
            <b><font color=#923B23>set</font></b> xVal [@ [@ <font color=#4A181B>$columns</font> [= {int(<font color=#4A181B>$j</font>*2)}]] <font color=#4A181B>$i</font>]
            <b><font color=#923B23>set</font></b> yVal [@ [@ <font color=#4A181B>$columns</font> [= {int(<font color=#4A181B>$j</font>*2+1)}]] <font color=#4A181B>$i</font>]
            <b><font color=#923B23>if</font></b> {<font color=#4A181B>$xVal</font>=={}} {
                <b><font color=#923B23>lappend</font></b> row { } { }
            } <b><font color=#923B23>else</font></b> {
                <b><font color=#923B23>lappend</font></b> row <font color=#4A181B>$xVal</font> <font color=#4A181B>$yVal</font>
            }
        }
        <b><font color=#923B23>lappend</font></b> outList <font color=#4A181B>$row</font>
    }
    <i><font color=#4b5d50># save data to temporary file</font></i>
    <b><font color=#923B23>set</font></b> counter 0
    <b><font color=#923B23>while</font></b> {true} {
        <b><font color=#923B23>set</font></b> filePath [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> path] gnuplotTemp<font color=#4A181B>${counter}</font>.csv]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$filePath</font>]} {
           <b><font color=#923B23>incr</font></b> counter
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>set</font></b> resFile [<b><font color=#923B23>open</font></b> <font color=#4A181B>$filePath</font> w+]
            <b><font color=#ca14ca>break</font></b>
        }
    }
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$resFile</font> [::csv::joinlist <font color=#4A181B>$outList</font> <font color=#035103>&quot; &quot;</font>]
    <b><font color=#923B23>close</font></b> <font color=#4A181B>$resFile</font>
    <i><font color=#4b5d50># create command strings for gnuplot</font></i>
    <b><font color=#923B23>set</font></b> commandStr <font color=#035103>&quot;plot 'gnuplotTemp<font color=#4A181B>${</font>counter<font color=#4A181B>}</font>.csv' using 1:2 with lines &quot;</font>
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$dataNum</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> commandStr  <font color=#035103>&quot;<font color=#4A181B>${</font>commandStr<font color=#4A181B>}</font>, '' using <font color=#4A181B>[</font>= <font color=#4A181B>{$</font>i*2+1<font color=#4A181B>}]</font>:<font color=#4A181B>[</font>= <font color=#4A181B>{$</font>i*2+2<font color=#4A181B>}]</font> with lines &quot;</font>
    }
    <b><font color=#923B23>set</font></b> commandList [<b><font color=#923B23>list</font></b> <font color=#4A181B>$autoTitleStr</font> <font color=#4A181B>$xlabelStr</font> <font color=#4A181B>$ylabelStr</font> <font color=#4A181B>$xscaleStr</font> <font color=#4A181B>$yscaleStr</font> <font color=#4A181B>$gridStr</font> <font color=#4A181B>$commandStr</font> <font color=#4A181B>$xlabelStrUnset</font> <font color=#4A181B>$ylabelStrUnset</font> <font color=#4A181B>$xscaleStrUnset</font> <font color=#4A181B>$yscaleStrUnset</font> <font color=#4A181B>$gridStrUnset</font>]
    <b><font color=#923B23>set</font></b> commandStr [<b><font color=#923B23>join</font></b> [<b><font color=#923B23>lmap</font></b> elem <font color=#4A181B>$commandList</font> {= {<font color=#4A181B>$elem</font>==&quot;&quot; ? [<b><font color=#ca14ca>continue</font></b>] : <font color=#4A181B>$elem</font>}}] &quot;\n&quot;]
    <b><font color=#ca14ca>return</font></b> [<b><font color=#923B23>dict</font></b> create cmdString <font color=#4A181B>$commandStr</font> file <font color=#4A181B>$filePath</font>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::gnuplotutil::plotXYN'>plotXYN</a><span class='ns_scope'> [<a href="index-gnuplotutil.html#::gnuplotutil" title="::gnuplotutil" class='ruff_cmd'>::gnuplotutil</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='index.html'>Main</a>, <a href='index-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Plots 2D graphs in Gnuplot with the common x-values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>plotXYN</span> <span class='ruff_arg'>x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns yList1 ?yList2 ...?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><code>x</code></td><td>List of x-point for 2D graph.</td></tr>
<tr><td><code><font color=#463e11>-background</font></code></td><td>Enables running gnuplot in background, requires -nodelete switch.</td></tr>
<tr><td><code><font color=#463e11>-columns</font></code></td><td>Provides the y data to plot, the number of columns is not restricted and must be provided at the end of command after all switches.</td></tr>
<tr><td><code><font color=#463e11>-darkmode</font></code></td><td>Enables dark mode for graph.</td></tr>
<tr><td><code><font color=#463e11>-grid</font></code></td><td>Enables display of grid.</td></tr>
<tr><td><code><font color=#463e11>-names</font></code></td><td>Enables setting the column names of provided data, value must be provided as list in the same order as data columns provided, must have the length equal to the number of y data colums.</td></tr>
<tr><td><code><font color=#463e11>-nodelete</font></code></td><td>Disables deleting of temporary file after end of plotting.</td></tr>
<tr><td><code><font color=#463e11>-optcmd</font></code></td><td>Provides optional string that may contain additional commands to gnuplot.</td></tr>
<tr><td><code><font color=#463e11>-path</font></code></td><td>Provides location of temporary file, default is the current location.</td></tr>
<tr><td><code><font color=#463e11>-size</font></code></td><td>Provides size of the window, must be list with two elements: width and height in pixels.</td></tr>
<tr><td><code><font color=#463e11>-terminal</font></code></td><td>Selects terminal, default 'x11' on Linux and 'windows' on Windows.</td></tr>
<tr><td><code><font color=#463e11>-xlabel</font></code></td><td>Provides x-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-xlog</font></code></td><td>Enables log scale of x axis.</td></tr>
<tr><td><code><font color=#463e11>-ylabel</font></code></td><td>Provides y-axis label to display, string must be provided after it.</td></tr>
<tr><td><code><font color=#463e11>-ylog</font></code></td><td>Enables log scale of y axis.</td></tr>
</table>
<h5 class='ruff'>Description</h5>
<figure  class='ruff-snippet ruff-figure'><pre class='ruff'>Example:
<b><font color=#923B23>set</font></b> x [<b><font color=#923B23>list</font></b> 0 1 2 3 4 5 6]
<b><font color=#923B23>set</font></b> y1 [<b><font color=#923B23>list</font></b> 0 1 4 9 16 25 36]
<b><font color=#923B23>set</font></b> y2 [<b><font color=#923B23>list</font></b> 0 1 8 27 64 125 216]
gnuplotutil::plotXYN <font color=#4A181B>$x</font> <font color=#463e11>-xlog</font> <font color=#463e11>-ylog</font> <font color=#463e11>-xlabel</font> <font color=#035103>&quot;x label&quot;</font> <font color=#463e11>-ylabel</font> <font color=#035103>&quot;y label&quot;</font> <font color=#463e11>-grid</font> <font color=#463e11>-names</font> [<b><font color=#923B23>list</font></b>  y1 y2]
<font color=#463e11>-columns</font> <font color=#4A181B>$y1</font> <font color=#4A181B>$y2</font>
</pre>

</figure><h5 class='ruff'>Return value</h5><p class='ruff'>creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_gnuplotutil_plotXYN' href="javascript:toggleSource('gnuplotutil_plotXYN')">Show source</a></p>
<div id='gnuplotutil_plotXYN' class='ruff_dyn_src'><pre><b><font color=#ca14ca>proc</font></b> ::gnuplotutil::plotXYN {x args} {

    <i><font color=#4b5d50># Plots 2D graphs in Gnuplot with the common x-values.</font></i>
    <i><font color=#4b5d50>#  x - list of x-point for 2D graph</font></i>
    <i><font color=#4b5d50>#  -xlog - enables log scale of x axis</font></i>
    <i><font color=#4b5d50>#  -ylog - enables log scale of y axis</font></i>
    <i><font color=#4b5d50>#  -background - enables running gnuplot in background, requires -nodelete switch</font></i>
    <i><font color=#4b5d50>#  -nodelete - disables deleting of temporary file after end of plotting</font></i>
    <i><font color=#4b5d50>#  -xlabel - provides x-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -ylabel - provides y-axis label to display, string must be provided after it</font></i>
    <i><font color=#4b5d50>#  -optcmd - provides optional string that may contain additional commands to gnuplot</font></i>
    <i><font color=#4b5d50>#  -terminal - selects terminal, default 'x11' on Linux and 'windows' on Windows</font></i>
    <i><font color=#4b5d50>#  -grid - enables display of grid</font></i>
    <i><font color=#4b5d50>#  -darkmode - enables dark mode for graph</font></i>
    <i><font color=#4b5d50>#  -size - provides size of the window, must be list with two elements: width and height in pixels</font></i>
    <i><font color=#4b5d50>#  -path - provides location of temporary file, default is the current location</font></i>
    <i><font color=#4b5d50>#  -names - enables setting the column names of provided data, value must be provided as list</font></i>
    <i><font color=#4b5d50>#    in the same order as data columns provided, must have the length equal to the number of y data colums</font></i>
    <i><font color=#4b5d50>#  -columns - provides the y data to plot, the number of columns is not restricted and must be provided at the end</font></i>
    <i><font color=#4b5d50>#    of command after all switches</font></i>
    <i><font color=#4b5d50># Returns: creates gnuplot window with plotted data, and returns string contains commands sent to gnuplot</font></i>
    <i><font color=#4b5d50># Synopsis: x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string?</font></i>
    <i><font color=#4b5d50>#   ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? -columns yList1 ?yList2 ...?</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <i><font color=#4b5d50># Example:</font></i>
    <i><font color=#4b5d50># set x [list 0 1 2 3 4 5 6]</font></i>
    <i><font color=#4b5d50># set y1 [list 0 1 4 9 16 25 36]</font></i>
    <i><font color=#4b5d50># set y2 [list 0 1 8 27 64 125 216]</font></i>
    <i><font color=#4b5d50># gnuplotutil::plotXYN $x -xlog -ylog -xlabel &quot;x label&quot; -ylabel &quot;y label&quot; -grid -names [list  y1 y2]</font></i>
    <i><font color=#4b5d50># -columns $y1 $y2</font></i>
    <i><font color=#4b5d50># ```</font></i>
    <b><font color=#923B23>set</font></b> arguments [argparse <font color=#463e11>-inline</font> {
        <font color=#463e11>-xlog</font>
        <font color=#463e11>-ylog</font>
        {<font color=#463e11>-background</font> <font color=#463e11>-require</font> {nodelete}}
        <font color=#463e11>-nodelete</font>
        <font color=#463e11>-xlabel</font>=
        <font color=#463e11>-ylabel</font>=
        <font color=#463e11>-optcmd</font>=
        <font color=#463e11>-terminal</font>=
        <font color=#463e11>-grid</font>
        <font color=#463e11>-darkmode</font>
        {<font color=#463e11>-path</font>= <font color=#463e11>-default</font> <font color=#035103>&quot;.&quot;</font>}
        {<font color=#463e11>-size</font>= <font color=#463e11>-default</font> {800 600}}
        <font color=#463e11>-names</font>=
        {<font color=#463e11>-columns</font> <font color=#463e11>-catchall</font>}
    }]
    initArgStr <font color=#4A181B>$arguments</font> xlog xscaleStr {<font color=#035103>&quot;set logscale x&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylog yscaleStr {<font color=#035103>&quot;set logscale y&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> grid gridStr {<font color=#035103>&quot;set grid&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> xlabel xlabelStr {<font color=#035103>&quot;set xlabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments xlabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> ylabel ylabelStr {<font color=#035103>&quot;set ylabel '<font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments ylabel<font color=#4A181B>]</font>'&quot;</font>}
    initArgStr <font color=#4A181B>$arguments</font> names columnNames {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> names]}
    initArgStr <font color=#4A181B>$arguments</font> optcmd optcmdStr {[<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> optcmd]}
    initTerminalStr <font color=#4A181B>$arguments</font> terminalStr
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> darkmode]} {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced background rgb 'black'&quot;</font>
        <b><font color=#923B23>append</font></b> darkmodeStr <font color=#035103>&quot;\n&quot;</font> <font color=#4A181B>$::gnuplotutil::darkmodeStyle</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> darkmodeStr <font color=#035103>&quot;set term <font color=#4A181B>$</font>terminalStr size <font color=#4A181B>[</font>join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments size<font color=#4A181B>]</font> ,<font color=#4A181B>]</font> noenhanced&quot;</font>
    }
    <b><font color=#923B23>set</font></b> yColumnCount 0
    <b><font color=#923B23>foreach</font></b> val [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$val</font>]!=[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$x</font>]} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Number of points of y-axis data (column <font color=#4A181B>$</font>yColumnCount) doesn't match the number of points of x-axis data&quot;</font>
            <b><font color=#923B23>incr</font></b> yColumnCount
        }
    }
    <i><font color=#4b5d50># fill output structure with values</font></i>
    <b><font color=#923B23>set</font></b> numCol [<b><font color=#923B23>llength</font></b> [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns]]
    <b><font color=#923B23>if</font></b> {([<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> names])} {
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>llength</font></b> <font color=#4A181B>$columnNames</font>]!=[= {<font color=#4A181B>$numCol</font>}]} {
            <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#035103>&quot;Column names count is not the same as count of data columns&quot;</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;&quot;</font>
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>lappend</font></b> outList <font color=#035103>&quot;<font color=#4A181B>{</font> <font color=#4A181B>}</font> <font color=#4A181B>$</font>columnNames&quot;</font>
            <b><font color=#923B23>set</font></b> autoTitleStr <font color=#035103>&quot;set key autotitle columnheader&quot;</font>
        }
    }
    <b><font color=#923B23>set</font></b> numRow [<b><font color=#923B23>llength</font></b> <font color=#4A181B>$x</font>]
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 0} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$numRow</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> row [@ <font color=#4A181B>$x</font> <font color=#4A181B>$i</font>]
        <b><font color=#923B23>foreach</font></b> val [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> columns] {
            <b><font color=#923B23>lappend</font></b> row [@ <font color=#4A181B>$val</font> <font color=#4A181B>$i</font>]
        }
        <b><font color=#923B23>lappend</font></b> outList <font color=#4A181B>$row</font>
    }
    <i><font color=#4b5d50># save data to temporary file</font></i>
    <b><font color=#923B23>set</font></b> counter 0
    <b><font color=#923B23>while</font></b> {true} {
        <b><font color=#923B23>set</font></b> filePath [<b><font color=#923B23>file</font></b> join [<b><font color=#923B23>dget</font></b> <font color=#4A181B>$arguments</font> path] gnuplotTemp<font color=#4A181B>${counter}</font>.csv]
        <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>file</font></b> exists <font color=#4A181B>$filePath</font>]} {
           <b><font color=#923B23>incr</font></b> counter
        } <b><font color=#923B23>else</font></b> {
            <b><font color=#923B23>set</font></b> resFile [<b><font color=#923B23>open</font></b> <font color=#4A181B>$filePath</font> w+]
            <b><font color=#ca14ca>break</font></b>
        }
    }
    <b><font color=#923B23>puts</font></b> <font color=#4A181B>$resFile</font> [::csv::joinlist <font color=#4A181B>$outList</font> <font color=#035103>&quot; &quot;</font>]
    <b><font color=#923B23>close</font></b> <font color=#4A181B>$resFile</font>
    <i><font color=#4b5d50># create command strings for gnuplot</font></i>
    <b><font color=#923B23>set</font></b> commandStr <font color=#035103>&quot;plot '<font color=#4A181B>[</font>file join <font color=#4A181B>[</font>dget <font color=#4A181B>$</font>arguments path<font color=#4A181B>]</font> gnuplotTemp<font color=#4A181B>${</font>counter<font color=#4A181B>}</font>.csv<font color=#4A181B>]</font>' using 1:2 with lines &quot;</font>
    <b><font color=#923B23>for</font></b> {<b><font color=#923B23>set</font></b> i 1} {<font color=#4A181B>$i</font>&lt;<font color=#4A181B>$numCol</font>} {<b><font color=#923B23>incr</font></b> i} {
        <b><font color=#923B23>set</font></b> commandStr  <font color=#035103>&quot;<font color=#4A181B>${</font>commandStr<font color=#4A181B>}</font>, '' using 1:<font color=#4A181B>[</font>= <font color=#4A181B>{$</font>i+2<font color=#4A181B>}]</font> with lines &quot;</font>
    }
    <b><font color=#923B23>set</font></b> commandList [<b><font color=#923B23>list</font></b> <font color=#035103>&quot;set mouse&quot;</font> <font color=#4A181B>$darkmodeStr</font> <font color=#4A181B>$optcmdStr</font> <font color=#4A181B>$autoTitleStr</font> <font color=#4A181B>$xlabelStr</font> <font color=#4A181B>$ylabelStr</font> <font color=#4A181B>$xscaleStr</font> <font color=#4A181B>$yscaleStr</font> <font color=#4A181B>$gridStr</font> <font color=#4A181B>$commandStr</font> <font color=#035103>&quot;pause mouse close&quot;</font>]
    <b><font color=#923B23>set</font></b> commandStr [<b><font color=#923B23>join</font></b> [<b><font color=#923B23>lmap</font></b> elem <font color=#4A181B>$commandList</font> {= {<font color=#4A181B>$elem</font>==&quot;&quot; ? [<b><font color=#ca14ca>continue</font></b>] : <font color=#4A181B>$elem</font>}}] &quot;\n&quot;]
    <b><font color=#923B23>if</font></b> {[<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> background]} {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font> & } errorStr]
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#923B23>set</font></b> status [<b><font color=#923B23>catch</font></b> {<b><font color=#923B23>exec</font></b> gnuplot &lt;&lt; <font color=#035103>&quot;\n<font color=#4A181B>$</font>commandStr\n&quot;</font>} errorStr]
    }
    <b><font color=#923B23>if</font></b> {![<b><font color=#923B23>dexist</font></b> <font color=#4A181B>$arguments</font> nodelete]} {
        <b><font color=#923B23>file</font></b> delete <font color=#4A181B>$filePath</font>
    }
    <b><font color=#923B23>if</font></b> {<font color=#4A181B>$status</font>&gt;0} {
        <b><font color=#ca14ca>return</font></b> <font color=#463e11>-code</font> error <font color=#4A181B>$errorStr</font>
    } <b><font color=#923B23>else</font></b> {
        <b><font color=#ca14ca>return</font></b> <font color=#4A181B>$commandStr</font>
    }
}</pre></div>
</div></main><nav class='ruff-nav'><ul ><li class='ruff-toc1'><a style='padding-top:2px;' href='index.html'>Start page</a></li>
<li class='ruff-toc1'><a href='index-docindex.html' accesskey='i'>Index</a></li>
<hr>
<li class='ruff-toc1'><a class='ruff-highlight' href='index-gnuplotutil.html'>gnuplotutil</a></li>
<li class='ruff-toc1'><a href='index-mathutil.html'>mathutil</a></li>
<li class='ruff-toc1'><a href='index-rfutil.html'>rfutil</a></li>
<li class='ruff-toc1'><a href='index-touchstoneutil.html'>touchstoneutil</a></li>
<hr><li class='ruff-toc2'><a href='#::gnuplotutil-Commands'>Commands</a></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initArgStr'>initArgStr</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;initArgStr&lt;/span&gt; &lt;span class='ruff_arg'&gt;optDict optName varName value&lt;/span&gt;</pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::initTerminalStr'>initTerminalStr</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;initTerminalStr&lt;/span&gt; &lt;span class='ruff_arg'&gt;optDict varName&lt;/span&gt;</pre></span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::multiplotXNYN'>multiplotXNYN</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;multiplotXNYN&lt;/span&gt; &lt;span class='ruff_arg'&gt;layoutList ?-background? ?-nodelete? ?-optcmd string? ?-terminal? ?-darkmode? ?-size list? <font color=#463e11>-columns</font> plotList1 ?plotList2 ...?&lt;/span&gt;</pre>Plots 2D graphs in Gnuplot with individual x-values and using multiplot to display.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotHist'>plotHist</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotHist&lt;/span&gt; &lt;span class='ruff_arg'&gt;x <font color=#463e11>-style</font> ?-gap value? ?-boxwidth value? ?-fill value? ?-transparent? ?-density value? ?-border value? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? <font color=#463e11>-columns</font> xList1 ?xList2 ...?&lt;/span&gt;</pre>Plots 2D histograms in Gnuplot with the common x-values.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXNYN'>plotXNYN</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotXNYN&lt;/span&gt; &lt;span class='ruff_arg'&gt;?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? <font color=#463e11>-columns</font> xList1 yList1 ?xList2 yList2 ...?&lt;/span&gt;</pre>Plots 2D graphs in Gnuplot with individual x-values.
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXNYNMp'>plotXNYNMp</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotXNYNMp&lt;/span&gt; &lt;span class='ruff_arg'&gt;?-xlog? ?-ylog? ?-xlabel string? ?-ylabel string? ?-grid? ?-path string? ?-names list? <font color=#463e11>-columns</font> xList1 yList1 ?xList2 yList2 ...?&lt;/span&gt;</pre>Auxilary function for gnuplotutil::multiplotXNYN, creates command strings and data files for individual plots
</span></li><li class='ruff-toc3 ruff-tip'><a href='index-gnuplotutil.html#::gnuplotutil::plotXYN'>plotXYN</a><span class='ruff-tiptext'><pre>&lt;span class='ruff_cmd'&gt;plotXYN&lt;/span&gt; &lt;span class='ruff_arg'&gt;x ?-xlog? ?-ylog? ?-background? ?-nodelete? ?-xlabel string? ?-ylabel string? ?-optcmd string? ?-terminal? ?-grid? ?-darkmode? ?-size list? ?-path string? ?-names list? <font color=#463e11>-columns</font> yList1 ?yList2 ...?&lt;/span&gt;</pre>Plots 2D graphs in Gnuplot with the common x-values.
</span></li></ul></nav><footer class='ruff-layout-footer ruff-ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div><div>&copy; George Yashin</div></footer>
</div></body></html>
